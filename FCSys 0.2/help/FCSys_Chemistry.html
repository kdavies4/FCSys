<html>
<head>
<title>FCSys.Chemistry</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Chemical reactions and related models">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/Documentation/ModelicaDoc.css">
<link rel="shortcut icon" href="../Resources/Documentation/favicon.ico">
</head>
<body>
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="FCSys.html"><p class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="FCSys.html">
    <img src="../Resources/Documentation/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

<h3>Table of Contents</h3>

    <ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_Blocks.html">Blocks</a></li>
    <li><a href="FCSys_Conditions.html">Conditions</a></li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a></li>
    <li><a href="FCSys_Regions.html">Regions</a></li>
    <li><a href="FCSys_Subregions.html">Subregions</a></li>
    <li><a href="FCSys_Phases.html">Phases</a></li>
    <li><a href="FCSys_Species.html">Species</a></li>
    <li><a href="FCSys_Chemistry.html">Chemistry</a></li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_Utilities.html">Utilities</a></li>
    <li><a href="FCSys_Icons.html">Icons</a></li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">

<h2><a name="FCSys.Chemistry"></a><a href="FCSys.html#FCSys">FCSys</a>.Chemistry</h2>

<b>Chemical reactions and related models</b>

<h3>Information</h3>

Extends from <a href="FCSys_Icons_ChemistryPackage.html#FCSys.Icons.ChemistryPackage">Icons.ChemistryPackage</a> (Icon for packages containing chemical models).

<h3>Package Content</h3>

<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td><img src="FCSys.Chemistry.ExamplesS.png" alt="FCSys.Chemistry.Examples" width=20  height=20 align=top>&nbsp;<a href="FCSys_Chemistry_Examples.html#FCSys.Chemistry.Examples">Examples</a>
</td><td>Examples</td></tr>
<tr><td><img src="FCSys.Chemistry.ElectrochemistryS.png" alt="FCSys.Chemistry.Electrochemistry" width=20  height=20 align=top>&nbsp;<a href="FCSys_Chemistry_Electrochemistry.html#FCSys.Chemistry.Electrochemistry">Electrochemistry</a>
</td><td>Models associated with electrochemical reactions</td></tr>
<tr><td><img src="FCSys.Chemistry.HORS.png" alt="FCSys.Chemistry.HOR" width=20  height=20 align=top>&nbsp;<a href="FCSys_Chemistry.html#FCSys.Chemistry.HOR">HOR</a>
</td><td>Hydrogen oxidation reaction</td></tr>
<tr><td><img src="FCSys.Chemistry.ORRS.png" alt="FCSys.Chemistry.ORR" width=20  height=20 align=top>&nbsp;<a href="FCSys_Chemistry.html#FCSys.Chemistry.ORR">ORR</a>
</td><td>Oxygen reduction reaction</td></tr>
<tr><td><img src="FCSys.Chemistry.CapillaryS.png" alt="FCSys.Chemistry.Capillary" width=20  height=20 align=top>&nbsp;<a href="FCSys_Chemistry.html#FCSys.Chemistry.Capillary">Capillary</a>
</td><td>Young-Laplace model for capillary pressure</td></tr>
<tr><td><img src="FCSys.Chemistry.CapillaryVolumeS.png" alt="FCSys.Chemistry.CapillaryVolume" width=20  height=20 align=top>&nbsp;<a href="FCSys_Chemistry.html#FCSys.Chemistry.CapillaryVolume">CapillaryVolume</a>
</td><td>Volume with capillary pressure applied to the liquid</td></tr>
</table>
<hr>

<h2><img src="FCSys.Chemistry.HORI.png" alt="FCSys.Chemistry.HOR" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Chemistry.HOR"></a><a href="FCSys_Chemistry.html#FCSys.Chemistry">FCSys.Chemistry</a>.HOR</h2>
<b>Hydrogen oxidation reaction</b>
<img src="FCSys.Chemistry.HORD.png" alt="FCSys.Chemistry.HOR">

<h3>Information</h3>

<table border=1><tr><td><font size=100 color="gray">H<sub>2</sub> &#8652; 2e<sup>-</sup> + 2H<sup>+</sup></font></td></tr></table>
Extends from <a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top2">FCSys.Icons.Names.Top2</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_trans</td><td>&nbsp;</td><td>Number of components of translational momentum</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>&#39;cheme-&#39;</td><td>Connector for e-</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>&#39;chemH+&#39;</td><td>Connector for H+</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>chemH2</td><td>Connector for H2</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> HOR <font color="darkgreen">&quot;Hydrogen oxidation reaction&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top2">FCSys.Icons.Names.Top2</a>;

  <font color="blue">constant </font>Integer n_trans(min=0, max=3) <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;
  <font color="darkgreen">// Note:  This must be a constant rather than a parameter due to errors in</font>
  <font color="darkgreen">// Dymola 2014.</font>
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">Conditions.Adapters.ChemicalReaction</a> &#39;e-&#39;(
    <font color="blue">final </font>n_trans=n_trans,
    m=Characteristics.'e-'.Gas.m,
    n=-2);
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">Conditions.Adapters.ChemicalReaction</a> &#39;H+&#39;(
    <font color="blue">final </font>n_trans=n_trans,
    m=Characteristics.'H+'.Gas.m,
    n=-2);
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">Conditions.Adapters.ChemicalReaction</a> H2(
    <font color="blue">final </font>n_trans=n_trans,
    m=Characteristics.H2.Gas.m,
    n=1);

  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> &#39;cheme-&#39;(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Integer n_trans=n_trans)
    <font color="darkgreen">&quot;Connector for e-&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> &#39;chemH+&#39;(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Integer n_trans=n_trans)
    <font color="darkgreen">&quot;Connector for H+&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> chemH2(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Integer n_trans=n_trans) <font color="darkgreen">
    &quot;Connector for H2&quot;</font>;
  <font color="darkgreen">// Note:  These redeclarations are necessary due to errors in Dymola 2014.</font>

<font color="blue">equation </font>
  <font color="red">connect</font>(chemH2, H2.chemical);
  <font color="red">connect</font>('e-'.chemical, 'cheme-');
  <font color="red">connect</font>('H+'.chemical, 'chemH+');
  <font color="red">connect</font>(H2.reaction, 'e-'.reaction);
  <font color="red">connect</font>('H+'.reaction, H2.reaction);
<font color="blue">end </font>HOR;
</pre>
<hr>

<h2><img src="FCSys.Chemistry.ORRI.png" alt="FCSys.Chemistry.ORR" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Chemistry.ORR"></a><a href="FCSys_Chemistry.html#FCSys.Chemistry">FCSys.Chemistry</a>.ORR</h2>
<b>Oxygen reduction reaction</b>
<img src="FCSys.Chemistry.ORRD.png" alt="FCSys.Chemistry.ORR">

<h3>Information</h3>

<table border=1><tr><td><font size=100 color="gray">4e<sup>-</sup> + 4H<sup>+</sup> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O</font></td></tr></table>
Extends from <a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top2">FCSys.Icons.Names.Top2</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_trans</td><td>&nbsp;</td><td>Number of components of translational momentum</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>&#39;cheme-&#39;</td><td>Connector for e-</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>&#39;chemH+&#39;</td><td>Connector for H+</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>chemO2</td><td>Connector for O2</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>chemH2O</td><td>Connector for H2O</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ORR <font color="darkgreen">&quot;Oxygen reduction reaction&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top2">FCSys.Icons.Names.Top2</a>;

  <font color="blue">constant </font>Integer n_trans(min=0, max=3) <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;
  <font color="darkgreen">// Note:  This must be a constant rather than a parameter due to errors in</font>
  <font color="darkgreen">// Dymola 2014.</font>
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">Conditions.Adapters.ChemicalReaction</a> &#39;e-&#39;(
    <font color="blue">final </font>n_trans=n_trans,
    m=Characteristics.'e-'.Gas.m,
    reaction(Ndot(stateSelect=StateSelect.prefer)),
    n=4);
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">Conditions.Adapters.ChemicalReaction</a> &#39;H+&#39;(
    <font color="blue">final </font>n_trans=n_trans,
    m=Characteristics.'H+'.Gas.m,
    n=4);
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">Conditions.Adapters.ChemicalReaction</a> O2(
    <font color="blue">final </font>n_trans=n_trans,
    m=Characteristics.O2.Gas.m,
    n=1);
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">Conditions.Adapters.ChemicalReaction</a> H2O(
    <font color="blue">final </font>n_trans=n_trans,
    m=Characteristics.H2O.Gas.m,
    n=-2);

  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> &#39;cheme-&#39;(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Integer n_trans=n_trans)
    <font color="darkgreen">&quot;Connector for e-&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> &#39;chemH+&#39;(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Integer n_trans=n_trans)
    <font color="darkgreen">&quot;Connector for H+&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> chemO2(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Integer n_trans=n_trans) <font color="darkgreen">
    &quot;Connector for O2&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> chemH2O(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Integer n_trans=n_trans)
    <font color="darkgreen">&quot;Connector for H2O&quot;</font>;
  <font color="darkgreen">// Note:  These redeclarations are necessary due to errors in Dymola 2014.</font>

<font color="blue">equation </font>
  <font color="red">connect</font>('H+'.chemical, 'chemH+');
  <font color="red">connect</font>('e-'.chemical, 'cheme-');
  <font color="red">connect</font>(O2.chemical, chemO2);
  <font color="red">connect</font>(H2O.chemical, chemH2O);
  <font color="red">connect</font>('e-'.reaction, H2O.reaction);
  <font color="red">connect</font>('H+'.reaction, H2O.reaction);
  <font color="red">connect</font>(O2.reaction, H2O.reaction);
<font color="blue">end </font>ORR;
</pre>
<hr>

<h2><img src="FCSys.Chemistry.CapillaryI.png" alt="FCSys.Chemistry.Capillary" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Chemistry.Capillary"></a><a href="FCSys_Chemistry.html#FCSys.Chemistry">FCSys.Chemistry</a>.Capillary</h2>
<b>Young-Laplace model for capillary pressure</b>
<img src="FCSys.Chemistry.CapillaryD.png" alt="FCSys.Chemistry.Capillary">

<h3>Information</h3>

<p>The characteristic radius (<i>R</i>) is the harmonic mean of the (2) principle radii of the liquid volume.</p>

    <p>The default surface tension (&gamma; = 0.0663 N/m) is for saturated water at 60 &deg;C, interpolated from
    [<a href="FCSys_UsersGuide_References.html#FCSys.UsersGuide.References.Incropera2002">Incropera2002</a>, pp. 924].  Note that the surface tension in
    [<a href="FCSys_UsersGuide_References.html#FCSys.UsersGuide.References.Wang2001">Wang2001</a>] is incorrect (likely unit conversion error).</p>

Extends from <a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top2">FCSys.Icons.Names.Top2</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>R</td><td>U.um</td><td>Effective radius [L]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Material properties</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.SurfaceTension">SurfaceTension</a></td><td>gamma</td><td>0.0663*U.N/U.m</td><td>Surface tension [M/T2]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Angle">Angle</a></td><td>theta</td><td>140*U.degree</td><td>Contact angle [A]</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Amagat</a></td><td>wetting</td><td>Interface to the wetting phase</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Amagat</a></td><td>nonwetting</td><td>Interface to the nonwetting phase</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Capillary <font color="darkgreen">&quot;Young-Laplace model for capillary pressure&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top2">FCSys.Icons.Names.Top2</a>;

  <font color="darkgreen">// Geometry</font>
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> R=U.um <font color="darkgreen">&quot;Effective radius&quot;</font>;

  <font color="darkgreen">// Material properties</font>
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.SurfaceTension">Q.SurfaceTension</a> gamma=0.0663*U.N/U.m <font color="darkgreen">&quot;Surface tension&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Angle">Q.Angle</a> theta=140*U.degree <font color="darkgreen">&quot;Contact angle&quot;</font>;

  <font color="darkgreen">// Auxiliary variables (for analysis only)</font>
  <a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap=wetting.p - nonwetting.p <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Pressure difference due to surface tension&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Connectors.Amagat</a> wetting <font color="darkgreen">&quot;Interface to the wetting phase&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Connectors.Amagat</a> nonwetting <font color="darkgreen">&quot;Interface to the nonwetting phase&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">outer </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Pressure relation</font>
  nonwetting.p = wetting.p + 2*gamma*<font color="red">cos</font>(theta)/R <font color="darkgreen">&quot;Young-Laplace equation&quot;</font>;

  <font color="darkgreen">// Conservation (without storage)</font>
  0 = wetting.V + nonwetting.V <font color="darkgreen">&quot;Volume&quot;</font>;

<font color="blue">end </font>Capillary;
</pre>
<hr>

<h2><img src="FCSys.Chemistry.CapillaryVolumeI.png" alt="FCSys.Chemistry.CapillaryVolume" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Chemistry.CapillaryVolume"></a><a href="FCSys_Chemistry.html#FCSys.Chemistry">FCSys.Chemistry</a>.CapillaryVolume</h2>
<b>Volume with capillary pressure applied to the liquid</b>
<img src="FCSys.Chemistry.CapillaryVolumeD.png" alt="FCSys.Chemistry.CapillaryVolume">

<h3>Information</h3>

<p>The default surface tension (&gamma; = 0.0663 N/m) is for saturated water at 60 &deg;C, interpolated from
    [<a href="FCSys_UsersGuide_References.html#FCSys.UsersGuide.References.Incropera2002">Incropera2002</a>, pp. 924].  Note that the surface tension in
    [<a href="FCSys_UsersGuide_References.html#FCSys.UsersGuide.References.Wang2001">Wang2001</a>] is incorrect (likely unit conversion error).</p>

    <p>The default permeability (&kappa; = 6.46&times;10<sup>-5</sup> mm<sup>2</sup>) is based on
    the air permeability of SGL Carbon Group Sigracet&reg; 10 BA
    [<a href="FCSys_UsersGuide_References.html#FCSys.UsersGuide.References.SGL2007">SGL2007</a>].
    Wang et al. use &kappa; = 10<sup>-5</sup> mm<sup>2</sup>
    [<a href="FCSys_UsersGuide_References.html#FCSys.UsersGuide.References.Wang2001">Wang2001</a>].</p>

    <p>The default contact angle (&theta; = 140&deg;) is typical of the GDL measurements listed at
    <a href="http://www.chem.mtu.edu/cnlm/research/Movement_of_Water-in_Fuel_Cell_Electrodes.htm">http://www.chem.mtu.edu/cnlm/research/Movement_of_Water-in_Fuel_Cell_Electrodes.htm</a>
    (accessed Nov. 22, 2103).</p>

Extends from <a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top3">FCSys.Icons.Names.Top3</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Chemistry.html#FCSys.Chemistry.Capillary">Capillary</a></td><td>capillary</td><td>&nbsp;</td><td>Capillary model</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Volume">Volume</a></td><td>V</td><td>&nbsp;</td><td>Volume [L3]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Included phases</td></tr>
<tr><td>Boolean</td><td>inclGas</td><td>true</td><td>Gas</td></tr>
<tr><td>Boolean</td><td>inclLiquid</td><td>true</td><td>Liquid</td></tr>
<tr><td>Boolean</td><td>inclSolid</td><td>true</td><td>Solid</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Capillary pressure</td></tr>
<tr><td>Boolean</td><td>inclCapillary</td><td>false</td><td>Include capillary pressure</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Dalton">Dalton</a></td><td>gas</td><td>Interface to the gas phase</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Amagat</a></td><td>liquid</td><td>Interface to the liquid phase</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Amagat</a></td><td>solid</td><td>Interface to the solid phase</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> CapillaryVolume <font color="darkgreen">
  &quot;Volume with capillary pressure applied to the liquid&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Icons_Names.html#FCSys.Icons.Names.Top3">FCSys.Icons.Names.Top3</a>;

  <font color="darkgreen">// Material properties</font>
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Volume">Q.Volume</a> V <font color="darkgreen">&quot;Volume&quot;</font>;

  <font color="darkgreen">// Material properties</font>
  <font color="blue">parameter </font>Boolean inclGas=true <font color="darkgreen">&quot;Gas&quot;</font>;
  <font color="blue">parameter </font>Boolean inclLiquid=true <font color="darkgreen">&quot;Liquid&quot;</font>;
  <font color="blue">parameter </font>Boolean inclSolid=true <font color="darkgreen">&quot;Solid&quot;</font>;

  <font color="darkgreen">// Capillary pressure</font>
  <font color="blue">parameter </font>Boolean inclCapillary=false <font color="darkgreen">&quot;Include capillary pressure&quot;</font>;
  <a href="FCSys_Chemistry.html#FCSys.Chemistry.Capillary">Capillary</a> capillary <font color="blue">if </font>inclLiquid<font color="blue"> and </font>inclCapillary <font color="darkgreen">&quot;Capillary model&quot;</font>;

  <font color="darkgreen">// Alias variables (for common terms)</font>
  <a href="FCSys_Quantities.html#FCSys.Quantities.Volume">Q.Volume</a> V_pore <font color="darkgreen">&quot;Pore volume&quot;</font>;

  <font color="darkgreen">// Auxiliary variables (for analysis)</font>
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> x(<font color="blue">final </font>stateSelect=StateSelect.never) = liquid.V/(
    gas.V + liquid.V) <font color="blue">if </font>inclLiquid<font color="blue"> and </font>inclGas<font color="blue"> and </font>environment.analysis <font color="darkgreen">
    &quot;Liquid saturation&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.Dalton">Connectors.Dalton</a> gas <font color="blue">if </font>inclGas <font color="darkgreen">&quot;Interface to the gas phase&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Connectors.Amagat</a> liquid <font color="blue">if </font>inclLiquid <font color="darkgreen">&quot;Interface to the liquid phase&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Amagat">Connectors.Amagat</a> solid <font color="darkgreen">&quot;Interface to the solid phase&quot;</font>;

  <a href="FCSys_Conditions_ByConnector_Amagat.html#FCSys.Conditions.ByConnector.Amagat.VolumeFixed">Conditions.ByConnector.Amagat.VolumeFixed</a> volume(<font color="blue">final </font>V=V) <font color="blue">if </font>inclGas<font color="blue"> or </font>
    inclLiquid <font color="darkgreen">&quot;Fixed volume&quot;</font>;

<font color="blue">protected </font>
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.AmagatDalton">Conditions.Adapters.AmagatDalton</a> amagatDalton <font color="blue">if </font>inclGas<font color="blue"> or </font>(inclSolid<font color="blue"> and </font><font color="blue">
    not </font>inclLiquid) <font color="darkgreen">
    &quot;Adapter between additivity of volume and additivity of gas pressure&quot;</font>;

  <font color="blue">outer </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Aliases</font>
  V = V_pore + solid.V;

  <font color="blue">if </font><font color="blue">not </font>inclCapillary<font color="blue"> then</font>
    <font color="red">connect</font>(liquid, volume.amagat) <font color="darkgreen">
      &quot;Directly connect liquid to the volume (not shown in diagram)&quot;</font>;
  <font color="blue">end if</font>;

  <font color="red">connect</font>(capillary.wetting, liquid);
  <font color="red">connect</font>(solid, amagatDalton.amagat);
  <font color="red">connect</font>(volume.amagat, amagatDalton.amagat);
  <font color="red">connect</font>(gas, amagatDalton.dalton);
  <font color="red">connect</font>(capillary.nonwetting, volume.amagat);
<font color="blue">end </font>CapillaryVolume;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2012&ndash;2013, Kevin Davies, Georgia Tech Research Corporation. Last updated Wed Jan 15 15:08:24 2014.
</div>
</body>
</html>

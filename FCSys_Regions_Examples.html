<html>
<head>
<title>FCSys.Regions.Examples</title>
<meta name="title" content="Modelica fuel cell library">
<meta name="keywords" content="fuel cell library, FCSys, fuel cell, PEM, proton exchange membrane, polymer exchange membrane, PEMFC, Modelica, Dymola, open-source, electrochemistry">
<meta name="date" content="2013-12-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Examples">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="stylesheets/ModelicaDoc.css">
<link rel="shortcut icon" href="images/favicon.ico">
<script type="text/javascript" src="javascripts/analytics.js"></script>
</head>
<body>
<span itemscope itemtype="http://schema.org/SoftwareApplication">
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="index.html"><p itemprop="name" class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="index.html">
    <img itemprop="image" src="images/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

<h3>Table of Contents</h3>

<ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_Blocks.html">Blocks</a></li>
    <li><a href="FCSys_Conditions.html">Conditions</a></li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a></li>
    <li><a href="FCSys_Regions.html">Regions</a></li>
    <li><a href="FCSys_Subregions.html">Subregions</a></li>
    <li><a href="FCSys_Phases.html">Phases</a></li>
    <li><a href="FCSys_Species.html">Species</a></li>
    <li><a href="FCSys_Chemistry.html">Chemistry</a></li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_Utilities.html">Utilities</a></li>
    <li><a href="FCSys_Icons.html">Icons</a></li>
    </ul>

  <h3>Download</h3>
    <ul>
      <li><span itemprop="downloadUrl"><a href="https://github.com/kdavies4/FCSys/zipball/release" rel="nofollow">Latest version</a></span> (**Empty; please check back soon or contact kdavies4 at gmail.com.)</li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">

<h2><a name="FCSys.Regions.Examples"></a><a href="FCSys_Regions.html#FCSys.Regions">FCSys.Regions</a>.Examples</h2>

<b>Examples</b>

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage">Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).

<h3>Package Content</h3>

<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.AnFP" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.AnFP">AnFP</a>
</td><td>Test the anode flow plate</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.AnGDL" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.AnGDL">AnGDL</a>
</td><td>Test the anode gas diffusion layer</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.AnCL" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.AnCL">AnCL</a>
</td><td>Test the anode catalyst layer</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.PEM" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.PEM">PEM</a>
</td><td>Test the proton exchange membrane</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.CaCL" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.CaCL">CaCL</a>
</td><td>Test the cathode catalyst layer</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.CaGDL" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.CaGDL">CaGDL</a>
</td><td>Test the cathode gas diffusion layer</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.CLtoCL" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.CLtoCL">CLtoCL</a>
</td><td>Test one catalyst layer to the other</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.GDLtoGDL" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.GDLtoGDL">GDLtoGDL</a>
</td><td>Test one gas diffusion layer to the other</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.CaFP" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.CaFP">CaFP</a>
</td><td>Test the cathode flow plate</td></tr>
<tr><td><img src="images/FCSys.Regions.Examples.AnFPS.png" alt="FCSys.Regions.Examples.FPtoFP" width=20  height=20 align=top>&nbsp;<a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples.FPtoFP">FPtoFP</a>
</td><td>Test one flow plate to the other</td></tr>
</table>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.AnFP" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.AnFP"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.AnFP</h2>
<b>Test the anode flow plate</b>
<img src="images/FCSys.Regions.Examples.AnFPD.png" alt="FCSys.Regions.Examples.AnFP">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_H2O</td><td>environment.psi_H2O</td><td>Mole fraction of H2O at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_H2</td><td>environment.psi_dry</td><td>Mole fraction of H2 at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Assemblies_Cells_Examples.html#FCSys.Assemblies.Cells.Examples.TestConditions">TestConditions</a></td><td>testConditions</td><td>&nbsp;</td><td>Test conditions</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> AnFP <font color="darkgreen">&quot;Test the anode flow plate&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_H2O=environment.psi_H2O <font color="darkgreen">
    &quot;Mole fraction of H2O at the inlet&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_H2=environment.psi_dry <font color="darkgreen">
    &quot;Mole fraction of H2 at the inlet&quot;</font>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=anFP.subregions[1, 1, 1].graphite.'e-'.Deltag[1] <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R=w/zI <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Measured electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R_ex=anFP.L[Axis.x]/(anFP.subregions[1, 1, 1].graphite.
      'e-'.sigma*anFP.A[Axis.x]*anFP.subregions[1, 1, 1].graphite.epsilon^1.5) <font color="blue">
    if </font>environment.analysis <font color="darkgreen">&quot;Expected electrical resistance&quot;</font>;

  <a href="FCSys_Regions_AnFPs.html#FCSys.Regions.AnFPs.AnFP">AnFPs.AnFP</a> anFP;

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anBC[anFP.n_y, anFP.n_z](<font color="blue">each </font>
      graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      <font color="blue">redeclare </font><a href="FCSys_Conditions_ByConnector_ThermalDiffusive_Single.html#FCSys.Conditions.ByConnector.ThermalDiffusive.Single.Temperature">Conditions.ByConnector.ThermalDiffusive.Single.Temperature</a> &#39;C+&#39;
        (set(y=environment.T)),
      &#39;e-&#39;(materialSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caBC[anFP.n_y, anFP.n_z](
    <font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2(
        materialSet(y=zI/2),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,

        thermalSet(y=0)),
      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,

        thermalSet(y=0))),
    <font color="blue">each </font>graphite(&#39;incle-&#39;=true, &#39;e-&#39;(materialSet(y=-zI), thermalSet(y=
              environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(<font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,
          thermalSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> anSource[anFP.n_x, anFP.n_z]
    (<font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2(materialSet(y=-testConditions.Ndot_H2), thermalSet(y=environment.T)),
      H2O(materialSet(y=-testConditions.Ndot_H2O_an), thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anSink[anFP.n_x, anFP.n_z](gas(
      <font color="blue">each </font>inclH2=true,
      <font color="blue">each </font>inclH2O=true,
      H2O(materialSet(y=<font color="red">fill</font>(
              environment.p,
              anFP.n_x,
              anFP.n_z) - anSink.gas.H2.p)),
      H2(materialSet(y=anSink.gas.H2O.boundary.Ndot .* anFP.subregions[:, anFP.n_y,
              :].gas.H2O.v ./ anFP.subregions[:, anFP.n_y, :].gas.H2.v), <font color="blue">
          redeclare </font><font color="blue">each </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>)),
      <font color="blue">each </font>liquid(inclH2O=true, H2O(materialSet(y=environment.p))));

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.8) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    height=100*U.A,
    duration=300,
    offset=U.mA);

<font color="blue">protected </font>
  <a href="FCSys_Connectors.html#FCSys.Connectors.RealOutputInternal">Connectors.RealOutputInternal</a> zI(unit=&quot;N/T&quot;) <font color="darkgreen">&quot;Electrical current&quot;</font>;
<font color="blue">public </font>
  <a href="FCSys_Assemblies_Cells_Examples.html#FCSys.Assemblies.Cells.Examples.TestConditions">Assemblies.Cells.Examples.TestConditions</a> testConditions(I_ca=2*zI, I_an=1.5*
        zI) <font color="darkgreen">&quot;Test conditions&quot;</font>;
<font color="blue">equation </font>
  <font color="red">connect</font>(anBC.boundary, anFP.xNegative);

  <font color="red">connect</font>(caBC.boundary, anFP.xPositive);

  <font color="red">connect</font>(anSource.boundary, anFP.yNegative);
  <font color="red">connect</font>(anSink.boundary, anFP.yPositive);
  <font color="red">connect</font>(currentSet.y, zI);
<font color="blue">end </font>AnFP;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.AnGDL" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.AnGDL"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.AnGDL</h2>
<b>Test the anode gas diffusion layer</b>
<img src="images/FCSys.Regions.Examples.AnGDLD.png" alt="FCSys.Regions.Examples.AnGDL">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> AnGDL <font color="darkgreen">&quot;Test the anode gas diffusion layer&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=anGDL.subregions[1, 1, 1].graphite.'e-'.Deltag[1] <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-<font color="red">sum</font>(anGDL.subregions[1, :, :].graphite.'e-'.I[1]) <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Electrical current&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R=w/zI <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Measured electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R_ex=anGDL.L[Axis.x]/(anGDL.subregions[1, 1, 1].graphite.
      'e-'.sigma*anGDL.A[Axis.x]*anGDL.subregions[1, 1, 1].graphite.epsilon^1.5)
    <font color="blue">if </font>environment.analysis <font color="darkgreen">&quot;Expected electrical resistance&quot;</font>;

  <a href="FCSys_Regions_AnGDLs.html#FCSys.Regions.AnGDLs.AnGDL">AnGDLs.AnGDL</a> anGDL;

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anBC[anGDL.n_y, anGDL.n_z](
    <font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2(materialSet(y=environment.p_dry)),
      H2O(materialSet(y=environment.p_H2O))),
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;e-&#39;(materialSet(y=0))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(materialSet(y=environment.p))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caBC[anGDL.n_y, anGDL.n_z](
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(set(y=environment.T)),
      &#39;e-&#39;(materialSet(y=-currentSet.y), thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>)),

    <font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2O(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>),

      H2(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>)));

<font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.8) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    duration=20,
    height=100*U.A,
    offset=U.mA);

<font color="blue">equation </font>
  <font color="red">connect</font>(anGDL.xPositive, caBC.boundary);
  <font color="red">connect</font>(anBC.boundary, anGDL.xNegative);
<font color="blue">end </font>AnGDL;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.AnCL" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.AnCL"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.AnCL</h2>
<b>Test the anode catalyst layer</b>
<img src="images/FCSys.Regions.Examples.AnCLD.png" alt="FCSys.Regions.Examples.AnCL">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> AnCL <font color="darkgreen">&quot;Test the anode catalyst layer&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=<font color="red">sum</font>(anCL.subregions[1, :, :].graphite.'e-Transfer'.I) <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Reaction rate&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=anCL.subregions[1, 1, 1].graphite.'e-Transfer'.Deltag <font color="darkgreen">
    &quot;Overpotential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> J_Apercm2=zI*U.cm^2/(anCL.A[Axis.x]*U.A) <font color="darkgreen">
    &quot;Electrical current density, in A/cm2&quot;</font>;

  <a href="FCSys_Regions_AnCLs.html#FCSys.Regions.AnCLs.AnCL">AnCLs.AnCL</a> anCL;

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anBC[anCL.n_y, anCL.n_z](
    <font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2(materialSet(y=environment.p_dry)),
      H2O(materialSet(y=environment.p_H2O))),
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;e-&#39;(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,

        materialSet(y=currentSet.y),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,

        thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(materialSet(y=environment.p - U.kPa))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> caBC[anCL.n_y, anCL.n_z](<font color="blue">each </font>
      ionomer(
      &#39;inclH+&#39;=true,
      inclH2O=false,
      &#39;inclSO3-&#39;=true,
      &#39;H+&#39;(materialSet(y=0))));

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.8) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;
  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    duration=20,
    height=100*U.A,
    offset=U.mA);
<font color="blue">equation </font>
  <font color="red">connect</font>(anBC.boundary, anCL.xNegative);

  <font color="red">connect</font>(anCL.xPositive, caBC.boundary);

<font color="blue">end </font>AnCL;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.PEM" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.PEM"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.PEM</h2>
<b>Test the proton exchange membrane</b>
<img src="images/FCSys.Regions.Examples.PEMD.png" alt="FCSys.Regions.Examples.PEM">

<h3>Information</h3>

<p>The protonic resistance is slightly higher than expected
  due solely to electrical resistance.  Electro-osmotic drag applies additional resistance to the migration of protons.</p>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> PEM <font color="darkgreen">&quot;Test the proton exchange membrane&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=environment.T*<font color="red">log</font>(PEM.subregions[1, 1, 1].ionomer.'H+'.boundaries[
      1, Side.p].p/PEM.subregions[1, 1, 1].ionomer.'H+'.boundaries[1, Side.n].p)
    <font color="blue">if </font>environment.analysis <font color="darkgreen">&quot;Isothermal electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-<font color="red">sum</font>(PEM.subregions[1, :, :].ionomer.'H+'.I[1]) <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Electrical current&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ConductanceElectrical">Q.ConductanceElectrical</a> G=zI/w <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Measured electrical conductance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ConductanceElectrical">Q.ConductanceElectrical</a> G_ex=PEM.subregions[1, 1, 1].ionomer.'H+'.sigma
      *PEM.A[Axis.x]/PEM.L[Axis.x] <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Expected electrical conductance&quot;</font>;

  <a href="FCSys_Regions_PEMs.html#FCSys.Regions.PEMs.PEM">PEMs.PEM</a> PEM;

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> anBC[PEM.n_y, PEM.n_z](<font color="blue">each </font>
      ionomer(
      &#39;inclSO3-&#39;=true,
      &#39;inclH+&#39;=true,
      inclH2O=true,
      &#39;H+&#39;(materialSet(y=-currentSet.y), thermalSet(y=environment.T)),
      H2O(thermalSet(y=environment.T)),
      &#39;SO3-&#39;(set(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> caBC[PEM.n_y, PEM.n_z](<font color="blue">each </font>
      ionomer(
      &#39;inclSO3-&#39;=true,
      &#39;inclH+&#39;=true,
      inclH2O=false,
      &#39;H+&#39;(materialSet(y=U.atm))));

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.7) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    duration=20,
    height=100*U.A,
    offset=U.mA);
<font color="blue">equation </font>
  <font color="red">connect</font>(anBC.boundary, PEM.xNegative);

  <font color="red">connect</font>(PEM.xPositive, caBC.boundary);

<font color="blue">end </font>PEM;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.CaCL" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.CaCL"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.CaCL</h2>
<b>Test the cathode catalyst layer</b>
<img src="images/FCSys.Regions.Examples.CaCLD.png" alt="FCSys.Regions.Examples.CaCL">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> CaCL <font color="darkgreen">&quot;Test the cathode catalyst layer&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-<font color="red">sum</font>(caCL.subregions[1, :, :].graphite.'e-Transfer'.I) <font color="blue">
    if </font>environment.analysis <font color="darkgreen">&quot;Reaction rate&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=-caCL.subregions[1, 1, 1].graphite.'e-Transfer'.Deltag <font color="darkgreen">
    &quot;Overpotential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> J_Apercm2=zI*U.cm^2/(caCL.A[Axis.x]*U.A) <font color="darkgreen">
    &quot;Electrical current density, in A/cm2&quot;</font>;

  <a href="FCSys_Regions_CaCLs.html#FCSys.Regions.CaCLs.CaCL">CaCLs.CaCL</a> caCL;

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> anBC[caCL.n_y, caCL.n_z](<font color="blue">
      each </font>ionomer(
      &#39;inclH+&#39;=true,
      inclH2O=false,
      &#39;inclSO3-&#39;=true,
      &#39;H+&#39;(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=0),
        thermalSet(y=environment.T)),
      &#39;SO3-&#39;(set(y=environment.T))));
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caBC[caCL.n_y, caCL.n_z](
    <font color="blue">each </font>gas(
      inclH2O=true,
      inclN2=true,
      inclO2=true,
      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        thermalSet(y=environment.T)),
      N2(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_dry - environment.p_O2),
        thermalSet(y=environment.T)),
      O2(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_O2),
        thermalSet(y=environment.T))),
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=false,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(set(y=environment.T)),
      &#39;e-&#39;(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,

        materialSet(y=-currentSet.y),
        thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p),
        thermalSet(y=environment.T))));

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.6) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;
  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    duration=20,
    height=100*U.A,
    offset=U.mA);

<font color="blue">equation </font>
  <font color="red">connect</font>(anBC.boundary, caCL.xNegative);

  <font color="red">connect</font>(caCL.xPositive, caBC.boundary);

<font color="blue">end </font>CaCL;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.CaGDL" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.CaGDL"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.CaGDL</h2>
<b>Test the cathode gas diffusion layer</b>
<img src="images/FCSys.Regions.Examples.CaGDLD.png" alt="FCSys.Regions.Examples.CaGDL">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> CaGDL <font color="darkgreen">&quot;Test the cathode gas diffusion layer&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=caGDL.subregions[1, 1, 1].graphite.'e-'.Deltag[1] <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-<font color="red">sum</font>(caGDL.subregions[1, :, :].graphite.'e-'.I[1]) <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Electrical current&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R=w/zI <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Measured electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R_ex=caGDL.L[Axis.x]/(caGDL.subregions[1, 1, 1].graphite.
      'e-'.sigma*caGDL.A[Axis.x]*caGDL.subregions[1, 1, 1].graphite.epsilon^1.5)
    <font color="blue">if </font>environment.analysis <font color="darkgreen">&quot;Expected electrical resistance&quot;</font>;

  <a href="FCSys_Regions_CaGDLs.html#FCSys.Regions.CaGDLs.CaGDL">CaGDLs.CaGDL</a> caGDL;

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anBC[caGDL.n_y, caGDL.n_z](
    <font color="blue">each </font>gas(
      inclH2O=true,
      inclN2=true,
      inclO2=true,
      H2O(materialSet(y=environment.p_H2O)),
      N2(materialSet(y=environment.p_dry - environment.p_O2)),
      O2(materialSet(y=environment.p_O2))),
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      <font color="blue">redeclare </font><a href="FCSys_Conditions_ByConnector_ThermalDiffusive_Single.html#FCSys.Conditions.ByConnector.ThermalDiffusive.Single.Temperature">Conditions.ByConnector.ThermalDiffusive.Single.Temperature</a> &#39;C+&#39;
        (set(y=environment.T)),
      &#39;e-&#39;(<font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,
          thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(materialSet(y=environment.p))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caBC[caGDL.n_y, caGDL.n_z](
    <font color="blue">each </font>gas(
      inclH2O=true,
      inclN2=true,
      inclO2=true,
      H2O(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>),

      N2(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>),

      O2(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>)),

    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(set(y=environment.T)),
      &#39;e-&#39;(materialSet(y=-currentSet.y), thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>)));

<font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.6) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    duration=20,
    height=100*U.A,
    offset=U.mA);

<font color="blue">equation </font>
  <font color="red">connect</font>(anBC.boundary, caGDL.xNegative);
  <font color="red">connect</font>(caGDL.xPositive, caBC.boundary);
<font color="blue">end </font>CaGDL;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.CLtoCL" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.CLtoCL"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.CLtoCL</h2>
<b>Test one catalyst layer to the other</b>
<img src="images/FCSys.Regions.Examples.CLtoCLD.png" alt="FCSys.Regions.Examples.CLtoCL">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L_y[:]</td><td>{8}*U.cm</td><td>Lengths in the y direction [L]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L_z[:]</td><td>{6.25}*U.cm</td><td>Lengths in the z direction [L]</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> CLtoCL <font color="darkgreen">&quot;Test one catalyst layer to the other&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=anCL.subregions[1, 1, 1].graphite.'e-'.g_boundaries[1,
      Side.n] - caCL.subregions[1, 1, 1].graphite.'e-'.g_boundaries[1, Side.p] <font color="blue">
    if </font>environment.analysis <font color="darkgreen">&quot;Electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-<font color="red">sum</font>(anCL.subregions[1, :, :].graphite.'e-'.boundaries[1,
      Side.n].Ndot) <font color="blue">if </font>environment.analysis <font color="darkgreen">&quot;Electrical current&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> J_Apercm2=zI*U.cm^2/(anCL.A[Axis.x]*U.A) <font color="blue">if </font>environment.analysis
    <font color="darkgreen">&quot;Electrical current density, in A/cm2&quot;</font>;

  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L_y[:]={8}*U.cm <font color="darkgreen">&quot;Lengths in the y direction&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L_z[:]={6.25}*U.cm <font color="darkgreen">&quot;Lengths in the z direction&quot;</font>;

  <a href="FCSys_Regions_AnCLs.html#FCSys.Regions.AnCLs.AnCL">AnCLs.AnCL</a> anCL(<font color="blue">final </font>L_y=L_y, <font color="blue">final </font>L_z=L_z);

  <a href="FCSys_Regions_PEMs.html#FCSys.Regions.PEMs.PEM">PEMs.PEM</a> PEM(<font color="blue">final </font>L_y=L_y, <font color="blue">final </font>L_z=L_z);
  <a href="FCSys_Regions_CaCLs.html#FCSys.Regions.CaCLs.CaCL">CaCLs.CaCL</a> caCL(<font color="blue">final </font>L_y=L_y, <font color="blue">final </font>L_z=L_z);

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anBC[anCL.n_y, anCL.n_z](
    <font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2(
        materialSet(y=environment.p_dry),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,

        thermalSet(y=environment.T)),
      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,

        thermalSet(y=environment.T))),
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      <font color="blue">redeclare </font><a href="FCSys_Conditions_ByConnector_ThermalDiffusive_Single.html#FCSys.Conditions.ByConnector.ThermalDiffusive.Single.Temperature">Conditions.ByConnector.ThermalDiffusive.Single.Temperature</a> &#39;C+&#39;
        (set(y=environment.T)),
      &#39;e-&#39;(<font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,
          thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(materialSet(y=environment.p - U.kPa))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caBC[caCL.n_y, caCL.n_z](
    <font color="blue">each </font>gas(
      inclH2O=true,
      inclO2=true,
      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,

        thermalSet(y=0)),
      O2(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_O2),
        thermalSet(y=environment.T))),
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(set(y=environment.T)),
      &#39;e-&#39;(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,

        materialSet(y=-currentSet.y),
        thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p),
        thermalSet(y=environment.T))));

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    analysis=true,
    RH=0.7) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(duration=300, height=100*U.A);

<font color="blue">equation </font>
  <font color="red">connect</font>(anCL.xPositive, PEM.xNegative);
  <font color="red">connect</font>(PEM.xPositive, caCL.xNegative);
  <font color="red">connect</font>(anBC.boundary, anCL.xNegative);
  <font color="red">connect</font>(caCL.xPositive, caBC.boundary);
<font color="blue">end </font>CLtoCL;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.GDLtoGDL" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.GDLtoGDL"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.GDLtoGDL</h2>
<b>Test one gas diffusion layer to the other</b>
<img src="images/FCSys.Regions.Examples.GDLtoGDLD.png" alt="FCSys.Regions.Examples.GDLtoGDL">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L_y[:]</td><td>{8}*U.cm</td><td>Lengths in the y direction [L]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L_z[:]</td><td>{6.25}*U.cm</td><td>Lengths in the z direction [L]</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> GDLtoGDL <font color="darkgreen">&quot;Test one gas diffusion layer to the other&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=anCL.subregions[1, 1, 1].graphite.'e-'.g_boundaries[1,
      Side.n] - caCL.subregions[1, 1, 1].graphite.'e-'.g_boundaries[1, Side.p] <font color="blue">
    if </font>environment.analysis <font color="darkgreen">&quot;Electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-<font color="red">sum</font>(anCL.subregions[1, :, :].graphite.'e-'.boundaries[1,
      Side.n].Ndot) <font color="blue">if </font>environment.analysis <font color="darkgreen">&quot;Electrical current&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> J_Apercm2=zI*U.cm^2/(anCL.A[Axis.x]*U.A) <font color="darkgreen">
    &quot;Electrical current density, in A/cm2&quot;</font>;

  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L_y[:]={8}*U.cm <font color="darkgreen">&quot;Lengths in the y direction&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L_z[:]={6.25}*U.cm <font color="darkgreen">&quot;Lengths in the z direction&quot;</font>;

  <a href="FCSys_Regions_AnGDLs.html#FCSys.Regions.AnGDLs.AnGDL">AnGDLs.AnGDL</a> anGDL;
  <a href="FCSys_Regions_AnCLs.html#FCSys.Regions.AnCLs.AnCL">AnCLs.AnCL</a> anCL(<font color="blue">final </font>L_y=L_y, <font color="blue">final </font>L_z=L_z);
  <a href="FCSys_Regions_PEMs.html#FCSys.Regions.PEMs.PEM">PEMs.PEM</a> PEM(<font color="blue">final </font>L_y=L_y, <font color="blue">final </font>L_z=L_z);

  <a href="FCSys_Regions_CaCLs.html#FCSys.Regions.CaCLs.CaCL">CaCLs.CaCL</a> caCL(<font color="blue">final </font>L_y=L_y, <font color="blue">final </font>L_z=L_z);
  <a href="FCSys_Regions_CaGDLs.html#FCSys.Regions.CaGDLs.CaGDL">CaGDLs.CaGDL</a> caGDL(
    <font color="blue">final </font>L_y=L_y,
    <font color="blue">final </font>L_z=L_z,
    subregions(liquid(H2O(<font color="blue">each </font>phi(<font color="blue">each </font>stateSelect=StateSelect.default, <font color="blue">each </font>
              fixed=false)))));

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anBC[anCL.n_y, anCL.n_z](
    <font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2(
        materialSet(y=environment.p_dry),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,

        thermalSet(y=environment.T)),
      H2O(
        materialSet(y=environment.p_H2O),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,

        thermalSet(y=environment.T))),
    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      <font color="blue">redeclare </font><a href="FCSys_Conditions_ByConnector_ThermalDiffusive_Single.html#FCSys.Conditions.ByConnector.ThermalDiffusive.Single.Temperature">Conditions.ByConnector.ThermalDiffusive.Single.Temperature</a> &#39;C+&#39;
        (set(y=environment.T)),
      &#39;e-&#39;(
        materialSet(y=0),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,

        thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(
        materialSet(y=environment.p),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.temperature">Conditions.ByConnector.Boundary.Single.Thermal.temperature</a>,

        thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caBC[caGDL.n_y, caGDL.n_z](
    <font color="blue">each </font>gas(
      inclH2O=true,
      inclN2=true,
      inclO2=true,
      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>),

      N2(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p*(1 - environment.psi_O2_dry)),
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>),

      O2(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_O2),
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>)),

    <font color="blue">each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(set(y=environment.T)),
      &#39;e-&#39;(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,

        materialSet(y=-currentSet.y),
        thermalSet(y=environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true,H2O(
        materialSet(y=0),
        thermalSet(y=environment.T),
        <font color="blue">redeclare </font><font color="blue">function</font> afterSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> beforeSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Translational.html#FCSys.Conditions.ByConnector.Boundary.Single.Translational.force">FCSys.Conditions.ByConnector.Boundary.Single.Translational.force</a>)));

<font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.7) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(duration=300, height=100*U.A);

<font color="blue">equation </font>
  <font color="red">connect</font>(anCL.xPositive, PEM.xNegative);
  <font color="red">connect</font>(PEM.xPositive, caCL.xNegative);
  <font color="red">connect</font>(caGDL.xPositive, caBC.boundary);
  <font color="red">connect</font>(caCL.xPositive, caGDL.xNegative);
  <font color="red">connect</font>(anBC.boundary, anGDL.xNegative);
  <font color="red">connect</font>(anGDL.xPositive, anCL.xNegative);
<font color="blue">end </font>GDLtoGDL;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.CaFP" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.CaFP"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.CaFP</h2>
<b>Test the cathode flow plate</b>
<img src="images/FCSys.Regions.Examples.CaFPD.png" alt="FCSys.Regions.Examples.CaFP">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_H2O</td><td>environment.psi_H2O</td><td>Mole fraction of H2O at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_N2</td><td>(1 - environment.psi_O2_dry)&hellip;</td><td>Mole fraction of N2 at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_O2</td><td>environment.psi_O2_dry*envir&hellip;</td><td>Mole fraction of O2 at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Assemblies_Cells_Examples.html#FCSys.Assemblies.Cells.Examples.TestConditions">TestConditions</a></td><td>testConditions</td><td>&nbsp;</td><td>Test conditions</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> CaFP <font color="darkgreen">&quot;Test the cathode flow plate&quot;</font>

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_H2O=environment.psi_H2O <font color="darkgreen">
    &quot;Mole fraction of H2O at the inlet&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_N2=(1 - environment.psi_O2_dry)*environment.psi_dry
    <font color="darkgreen">&quot;Mole fraction of N2 at the inlet&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_O2=environment.psi_O2_dry*environment.psi_dry <font color="darkgreen">
    &quot;Mole fraction of O2 at the inlet&quot;</font>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=caFP.subregions[1, 1, 1].graphite.'e-'.Deltag[1] <font color="blue">if </font>
    environment.analysis <font color="darkgreen">&quot;Electrical potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R=w/zI <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Measured electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R_ex=caFP.L[Axis.x]/(caFP.subregions[1, 1, 1].graphite.
      'e-'.sigma*caFP.A[Axis.x]*caFP.subregions[1, 1, 1].graphite.epsilon^1.5) <font color="blue">
    if </font>environment.analysis <font color="darkgreen">&quot;Expected electrical resistance&quot;</font>;

  <a href="FCSys_Regions_CaFPs.html#FCSys.Regions.CaFPs.CaFP">CaFPs.CaFP</a> caFP;

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> caBC[caFP.n_y, caFP.n_z](<font color="blue">each </font>
      graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      <font color="blue">redeclare </font><a href="FCSys_Conditions_ByConnector_ThermalDiffusive_Single.html#FCSys.Conditions.ByConnector.ThermalDiffusive.Single.Temperature">Conditions.ByConnector.ThermalDiffusive.Single.Temperature</a> &#39;C+&#39;
        (set(y=environment.T)),
      &#39;e-&#39;(materialSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> anBC[caFP.n_y, caFP.n_z](
    <font color="blue">each </font>gas(
      inclH2O=true,
      inclN2=false,
      inclO2=true,
      H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p_H2O),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,

        thermalSet(y=0)),
      N2(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.pressure">Conditions.ByConnector.Boundary.Single.Material.pressure</a>,

        materialSet(y=environment.p*psi_N2),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,

        thermalSet(y=0)),
      O2(
        materialSet(y=zI/2),
        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,

        thermalSet(y=0))),
    <font color="blue">each </font>graphite(&#39;incle-&#39;=true, &#39;e-&#39;(materialSet(y=-zI), thermalSet(y=
              environment.T))),
    <font color="blue">each </font>liquid(inclH2O=true, H2O(<font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Thermal.html#FCSys.Conditions.ByConnector.Boundary.Single.Thermal.heatRate">Conditions.ByConnector.Boundary.Single.Thermal.heatRate</a>,
          thermalSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caSource[caFP.n_x, caFP.n_z]
    (<font color="blue">each </font>gas(
      inclH2O=true,
      inclN2=false,
      inclO2=true,
      H2O(materialSet(y=-testConditions.Ndot_H2O_ca), thermalSet(y=environment.T)),

      N2(materialSet(y=-testConditions.Ndot_N2), thermalSet(y=environment.T)),
      O2(materialSet(y=-testConditions.Ndot_O2), thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> caSink[caFP.n_x, caFP.n_z](gas(
      <font color="blue">each </font>inclH2O=true,
      <font color="blue">each </font>inclN2=true,
      <font color="blue">each </font>inclO2=true,
      H2O(materialSet(y=<font color="red">fill</font>(
              environment.p,
              caFP.n_x,
              caFP.n_z) - caSink.gas.N2.p - caSink.gas.O2.p)),
      N2(materialSet(y=caSink.gas.H2O.boundary.Ndot .* caFP.subregions[:, caFP.n_y,
              :].gas.H2O.v ./ caFP.subregions[:, caFP.n_y, :].gas.N2.v), <font color="blue">
          redeclare </font><font color="blue">each </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>),

      O2(materialSet(y=caSink.gas.H2O.boundary.Ndot .* caFP.subregions[:, caFP.n_y,
              :].gas.H2O.v ./ caFP.subregions[:, caFP.n_y, :].gas.O2.v), <font color="blue">
          redeclare </font><font color="blue">each </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>)),
      <font color="blue">each </font>liquid(inclH2O=true, H2O(materialSet(y=environment.p))));

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.8) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    height=100*U.A,
    duration=300,
    offset=U.mA);

<font color="blue">protected </font>
  <a href="FCSys_Connectors.html#FCSys.Connectors.RealOutputInternal">Connectors.RealOutputInternal</a> zI(unit=&quot;N/T&quot;) <font color="darkgreen">&quot;Electrical current&quot;</font>;
<font color="blue">public </font>
  <a href="FCSys_Assemblies_Cells_Examples.html#FCSys.Assemblies.Cells.Examples.TestConditions">Assemblies.Cells.Examples.TestConditions</a> testConditions(I_ca=2*zI, I_an=1.5*
        zI) <font color="darkgreen">&quot;Test conditions&quot;</font>;
<font color="blue">equation </font>

  <font color="red">connect</font>(caSource.boundary, caFP.yNegative);
  <font color="red">connect</font>(caSink.boundary, caFP.yPositive);
  <font color="red">connect</font>(currentSet.y, zI);
  <font color="red">connect</font>(anBC.boundary, caFP.xNegative);
  <font color="red">connect</font>(caFP.xPositive, caBC.boundary);
<font color="blue">end </font>CaFP;
</pre>
<hr>

<h2><img src="images/FCSys.Regions.Examples.AnFPI.png" alt="FCSys.Regions.Examples.FPtoFP" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Regions.Examples.FPtoFP"></a><a href="FCSys_Regions_Examples.html#FCSys.Regions.Examples">FCSys.Regions.Examples</a>.FPtoFP</h2>
<b>Test one flow plate to the other</b>
<img src="images/FCSys.Regions.Examples.FPtoFPD.png" alt="FCSys.Regions.Examples.FPtoFP">

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>inclLiq</td><td>true</td><td>Include liquid H2O</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_H2O</td><td>environment.psi_H2O</td><td>Mole fraction of H2O at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_H2</td><td>environment.psi_dry</td><td>Mole fraction of H2 at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_O2</td><td>environment.psi_O2_dry*envir&hellip;</td><td>Mole fraction of O2 at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>psi_N2</td><td>(1 - environment.psi_O2_dry)&hellip;</td><td>Mole fraction of N2 at the inlet [1]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L_y[:]</td><td>{8}*U.cm</td><td>Lengths in the y direction [L]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L_z[:]</td><td>{6.25}*U.cm</td><td>Lengths in the z direction [L]</td></tr>
<tr><td><a href="FCSys_Assemblies_Cells_Examples.html#FCSys.Assemblies.Cells.Examples.TestConditions">TestConditions</a></td><td>testConditions</td><td>&nbsp;</td><td>Test conditions</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> FPtoFP <font color="darkgreen">&quot;Test one flow plate to the other&quot;</font>
  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Boolean inclLiq=true <font color="darkgreen">&quot;Include liquid H2O&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_H2O=environment.psi_H2O <font color="darkgreen">
    &quot;Mole fraction of H2O at the inlet&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_H2=environment.psi_dry <font color="darkgreen">
    &quot;Mole fraction of H2 at the inlet&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_O2=environment.psi_O2_dry*environment.psi_dry <font color="darkgreen">
    &quot;Mole fraction of O2 at the inlet&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> psi_N2=(1 - environment.psi_O2_dry)*environment.psi_dry
    <font color="darkgreen">&quot;Mole fraction of N2 at the inlet&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> J_Apercm2=zI*U.cm^2/(caFP.A[Axis.x]*U.A) <font color="darkgreen">
    &quot;Electrical current density, in A/cm2&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=anFP.subregions[1, 1, 1].graphite.'e-'.g_boundaries[1,
      Side.n] - caFP.subregions[<font color="blue">end</font>, 1, 1].graphite.'e-'.g_boundaries[1, Side.p]
    <font color="blue">if </font>environment.analysis <font color="darkgreen">&quot;Electrical potential&quot;</font>;

  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L_y[:]={8}*U.cm <font color="darkgreen">&quot;Lengths in the y direction&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L_z[:]={6.25}*U.cm <font color="darkgreen">&quot;Lengths in the z direction&quot;</font>;

  <font color="darkgreen">// Layers</font>
  <a href="FCSys_Regions_AnFPs.html#FCSys.Regions.AnFPs.AnFP">AnFPs.AnFP</a> anFP(
    <font color="blue">final </font>L_y=L_y,
    <font color="blue">final </font>L_z=L_z,
    subregions(<font color="blue">each </font>liquid(inclH2O=inclLiq)));
  <a href="FCSys_Regions_AnGDLs.html#FCSys.Regions.AnGDLs.AnGDL">AnGDLs.AnGDL</a> anGDL(
    <font color="blue">final </font>L_y=L_y,
    <font color="blue">final </font>L_z=L_z,
    subregions(<font color="blue">each </font>liquid(inclH2O=inclLiq)));
  <a href="FCSys_Regions_AnCLs.html#FCSys.Regions.AnCLs.AnCL">AnCLs.AnCL</a> anCL(
    <font color="blue">final </font>L_y=L_y,
    <font color="blue">final </font>L_z=L_z,
    subregions(<font color="blue">each </font>liquid(inclH2O=inclLiq)));
  <a href="FCSys_Regions_PEMs.html#FCSys.Regions.PEMs.PEM">PEMs.PEM</a> PEM(<font color="blue">final </font>L_y=L_y, <font color="blue">final </font>L_z=L_z);
  <a href="FCSys_Regions_CaCLs.html#FCSys.Regions.CaCLs.CaCL">CaCLs.CaCL</a> caCL(
    <font color="blue">final </font>L_y=L_y,
    <font color="blue">final </font>L_z=L_z,
    subregions(<font color="blue">each </font>liquid(inclH2O=inclLiq)));
  <a href="FCSys_Regions_CaGDLs.html#FCSys.Regions.CaGDLs.CaGDL">CaGDLs.CaGDL</a> caGDL(
    <font color="blue">final </font>L_y=L_y,
    <font color="blue">final </font>L_z=L_z,
    subregions(<font color="blue">each </font>liquid(inclH2O=inclLiq)));
  <a href="FCSys_Regions_CaFPs.html#FCSys.Regions.CaFPs.CaFP">CaFPs.CaFP</a> caFP(
    <font color="blue">final </font>L_y=L_y,
    <font color="blue">final </font>L_z=L_z,
    subregions(<font color="blue">each </font>liquid(inclH2O=inclLiq)));

  <font color="darkgreen">// Conditions</font>
  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anBC[anFP.n_y, anFP.n_z](<font color="blue">each </font>
      graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      <font color="blue">redeclare </font><a href="FCSys_Conditions_ByConnector_ThermalDiffusive_Single.html#FCSys.Conditions.ByConnector.ThermalDiffusive.Single.Temperature">Conditions.ByConnector.ThermalDiffusive.Single.Temperature</a> &#39;C+&#39;
        (set(y=environment.T)),
      &#39;e-&#39;(materialSet(y=0))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> anSource[anFP.n_x, anFP.n_z]
    (<font color="blue">each </font>gas(
      inclH2=true,
      inclH2O=true,
      H2(materialSet(y=-testConditions.Ndot_H2), thermalSet(y=environment.T)),
      H2O(materialSet(y=-testConditions.Ndot_H2O_an), thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> anSink[anFP.n_x, anFP.n_z](gas(
      <font color="blue">each </font>inclH2=true,
      <font color="blue">each </font>inclH2O=true,
      H2(<font color="blue">redeclare </font><font color="blue">each </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,
          materialSet(y=anSink.gas.H2O.boundary.Ndot .* anFP.subregions[:, anFP.n_y,
              :].gas.H2O.v ./ anFP.subregions[:, anFP.n_y, :].gas.H2.v)),
      H2O(materialSet(y=<font color="red">fill</font>(
              environment.p,
              anFP.n_x,
              anFP.n_z) - anSink.gas.H2.p))), <font color="blue">each </font>liquid(inclH2O=inclLiq, H2O(
          materialSet(y=environment.p))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caBC[caFP.n_y, caFP.n_z](<font color="blue">
      each </font>graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(set(y=environment.T)),
      &#39;e-&#39;(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,

        materialSet(y=-zI),
        thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Source">Conditions.ByConnector.BoundaryBus.Single.Source</a> caSource[caFP.n_x, caFP.n_z]
    (<font color="blue">each </font>gas(
      inclH2O=true,
      inclN2=true,
      inclO2=true,
      H2O(materialSet(y=-testConditions.Ndot_H2O_ca), thermalSet(y=environment.T)),

      N2(materialSet(y=-testConditions.Ndot_N2), thermalSet(y=environment.T)),
      O2(materialSet(y=-testConditions.Ndot_O2), thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_BoundaryBus_Single.html#FCSys.Conditions.ByConnector.BoundaryBus.Single.Sink">Conditions.ByConnector.BoundaryBus.Single.Sink</a> caSink[caFP.n_x, caFP.n_z](gas(
      <font color="blue">each </font>inclH2O=true,
      <font color="blue">each </font>inclN2=true,
      <font color="blue">each </font>inclO2=true,
      H2O(materialSet(y=<font color="red">fill</font>(
              environment.p,
              caFP.n_x,
              caFP.n_z) - caSink.gas.N2.p - caSink.gas.O2.p)),
      N2(<font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,
          materialSet(y=caSink.gas.H2O.boundary.Ndot .* caFP.subregions[:, caFP.n_y,
              :].gas.H2O.v ./ caFP.subregions[:, caFP.n_y, :].gas.N2.v)),
      O2(<font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Boundary_Single_Material.html#FCSys.Conditions.ByConnector.Boundary.Single.Material.current">Conditions.ByConnector.Boundary.Single.Material.current</a>,
          materialSet(y=caSink.gas.H2O.boundary.Ndot .* caFP.subregions[:, caFP.n_y,
              :].gas.H2O.v ./ caFP.subregions[:, caFP.n_y, :].gas.O2.v))), <font color="blue">
      each </font>liquid(inclH2O=inclLiq,H2O(materialSet(y=environment.p))));

  <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> currentSet(
    offset=U.mA,
    startTime=50,
    duration=600,
    height=100*U.A);

<font color="blue">protected </font>
  <a href="FCSys_Connectors.html#FCSys.Connectors.RealOutputInternal">Connectors.RealOutputInternal</a> zI(unit=&quot;N/T&quot;) <font color="darkgreen">&quot;Electrical current&quot;</font>;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(
    a={0,0,0},
    analysis=true,
    T=333.15*U.K,
    p=<font color="red">U.from_kPag</font>(48.3),
    RH=0.7) <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

<font color="blue">public </font>
  <a href="FCSys_Assemblies_Cells_Examples.html#FCSys.Assemblies.Cells.Examples.TestConditions">Assemblies.Cells.Examples.TestConditions</a> testConditions(I_ca=2*zI, I_an=1.5*
        zI) <font color="darkgreen">&quot;Test conditions&quot;</font>;
<font color="blue">equation </font>
  <font color="red">connect</font>(anCL.xPositive, PEM.xNegative);
  <font color="red">connect</font>(PEM.xPositive, caCL.xNegative);
  <font color="red">connect</font>(caCL.xPositive, caGDL.xNegative);
  <font color="red">connect</font>(anCL.xNegative, anGDL.xPositive);
  <font color="red">connect</font>(anBC.boundary, anFP.xNegative);
  <font color="red">connect</font>(anSource.boundary, anFP.yNegative);
  <font color="red">connect</font>(anSink.boundary, anFP.yPositive);
  <font color="red">connect</font>(currentSet.y, zI);
  <font color="red">connect</font>(caBC.boundary, caFP.xPositive);
  <font color="red">connect</font>(anGDL.xNegative, anFP.xPositive);
  <font color="red">connect</font>(caGDL.xPositive, caFP.xNegative);
  <font color="red">connect</font>(caFP.yNegative, caSource.boundary);
  <font color="red">connect</font>(caSink.boundary, caFP.yPositive);
<font color="blue">end </font>FPtoFP;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2012&ndash;2013, <span id="_author5" itemprop="author" itemscope itemtype="http://schema.org/Person">
<span itemprop="name">Kevin Davies</span></span>,
<span id="_publisher7" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
<span itemprop="name">Georgia Tech Research Corporation</span></span>. Last updated Sun Dec 08 09:49:19 2013.
</div>
</span></body></html>

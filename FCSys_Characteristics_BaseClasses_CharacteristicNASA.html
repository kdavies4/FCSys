<html>
<head>
<title>FCSys.Characteristics.BaseClasses.CharacteristicNASA</title>
<meta name="HTML-Generator" content="Dymola">
<meta name="description" content="Thermodynamic record with transport properties based on NASA CEA">
<meta name="keywords" content="Modelica, fuel cell, PEMFC, electrochemistry, model">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="stylesheets/ModelicaDoc.css">
<link rel="shortcut icon" href="../resources/documentation/favicon.ico">
<script type="text/javascript" src="javascripts/analytics.js"></script>
</head>
<body>
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="index.html"><p class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="index.html">
    <img src="images/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

  <h3>Table of Contents</h3>
    <ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_BCs.html">BCs</a>**</li>
    <li><a href="FCSys_Sensors.html">Sensors</a>**</li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a>**</li>
    <li><a href="FCSys_Regions.html">Regions</a>**</li>
    <li><a href="FCSys_Subregions.html">Subregions</a>**</li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_BaseClasses.html">BaseClasses</a></li>
    <li>**Please check back soon or contact kdavies4 at gmail.com.</li>
    </ul>

  <h3>Download</h3>
    <ul>
      <li>Latest: <a href="release/FCSys-2.0.zip" rel="nofollow">FCSys-2.0.zip</a> (**Check back soon.)</li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">

<h2><a name="FCSys.Characteristics.BaseClasses.CharacteristicNASA"></a><a href="FCSys_Characteristics_BaseClasses.html#FCSys.Characteristics.BaseClasses">FCSys.Characteristics.BaseClasses</a>.CharacteristicNASA</h2>
<b>Thermodynamic record with transport properties based on NASA CEA</b>
<p>
<p><h3>Information</h3></p>
<p>The correlations for transport properties are available in
  [<a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">McBride1996</a>,
  <a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">McBride2002</a>]. For more information, see the
  <a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic">Characteristic</a> record.</p><p>
Extends from <a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic">FCSys.Characteristics.BaseClasses.Characteristic</a> (Record for thermodynamic and resistive properties).
<p><h3>Package Content</h3><p>
<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td>T_lim_alpha={0,Modelica.Constants.inf}</td><td>Temperature limits for the rows of b_eta and b_lambda (<i>T</i><sub>lim &alpha;</sub>)</td></tr>
<tr><td>b_eta</td><td>Constants in NASA correlation for viscosity (<i>b<sub>&eta;</sub>)</td></tr>
<tr><td>b_lambda</td><td>Constants in NASA correlation for thermal conductivity (<i>b<sub>&lambda;</sub>)</td></tr>
<tr><td><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12S.png" alt="FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_CharacteristicNASA.html#FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12">f_12</a>
</td><td>Fluidity as a function of temperature and pressure (<i>f</i><sub>12</sub>)</td></tr>
<tr><td><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12S.png" alt="FCSys.Characteristics.BaseClasses.CharacteristicNASA.r_th" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_CharacteristicNASA.html#FCSys.Characteristics.BaseClasses.CharacteristicNASA.r_th">r_th</a>
</td><td>Thermal resistivity as a function of temperature and pressure (<i>r</i><sub>th</sub>)</td></tr>
<tr><TH COLSPAN="2">Inherited</th></tr>
<tr><td>formula</td><td>Chemical formula</td></tr>
<tr><td>phase</td><td>Material phase</td></tr>
<tr><td>m</td><td>Specific mass</td></tr>
<tr><td>r</td><td>Specific radius</td></tr>
<tr><td>z=Chemistry.charge(formula)</td><td>Charge number</td></tr>
<tr><td>p0=U.bar</td><td>Reference pressure (<i>p</i>&deg;)</td></tr>
<tr><td>p_min=-Modelica.Constants.inf</td><td>Minimum pressure for numerical protection (<i>p</i><sub>min</sub>)</td></tr>
<tr><td>b_v=[1]</td><td>Coefficients of specific volume as a polynomial in <i>p</i>/<i>T</i> and <i>T</i> (<i>b</i><sub><i>v</i></sub>)</td></tr>
<tr><td>specVolPow={-1,0}</td><td>Powers of <i>p</i>/<i>T</i> and <i>T</i> for 1<sup>st</sup> row and column of <i>b</i><sub><i>v</i></sub>, respectively</td></tr>
<tr><td>Deltah0_f</td><td>Enthalpy of formation at 298.15 K, <i>p</i>&deg; (&Delta;<i>h</i>&deg;<sub>f</sub>)</td></tr>
<tr><td>Deltah0</td><td><i>h</i>&deg;(298.15 K) - <i>h</i>&deg;(0 K) (&Delta;<i>h</i>&deg;)</td></tr>
<tr><td>h_offset=0</td><td>Additional enthalpy offset (<i>h</i><sub>offset</sub>)</td></tr>
<tr><td>specHeatCapPow=-2</td><td>Power of <i>T</i> for 1<sup>st</sup> column of <i>b</i><sub><i>c</i></sub></td></tr>
<tr><td>T_lim_c={0,Modelica.Constants.inf}</td><td>Temperature limits for the rows of <i>b</i><sub><i>c</i></sub> and <i>B</i><sub><i>c</i></sub> (<i>T</i><sub>lim <i>c</i></sub>)</td></tr>
<tr><td>b_c</td><td>Coefficients of isobaric specific heat capacity at <i>p</i>&deg; as a polynomial in <i>T</i> (<i>b</i><sub><i>c</i></sub>)</td></tr>
<tr><td>B_c</td><td>Integration constants for specific enthalpy and entropy (<i>B</i><sub><i>c</i></sub>)</td></tr>
<tr><td>isCompressible=anyTrue({anyTrue({b_v[i, j] &lt;&gt; 0 and specVolPow[1] + i - 1 &lt;&gt; 0 for i in 1:size(b_v, 1)}) for j in 1:size(b_v, 2)})</td><td>true, if specific volume depends on pressure</td></tr>
<tr><td>hasThermalExpansion=anyTrue({anyTrue({b_v[i, j] &lt;&gt; 0 and specVolPow[2] + j - specVolPow[1] - i &lt;&gt; 0 for i in 1:size(b_v, 1)}) for j in 1:size(b_v, 2)})</td><td>true, if specific volume depends on temperature</td></tr>
<tr><td>pressPow=if specVolPow[1] == 0 then {0,0} else {1/specVolPow[1] - size(b_v, 1) + 1,1 - (if mod(abs(specVolPow[2]/specVolPow[1]), 1) &lt; Modelica.Constants.small then round(specVolPow[2]/specVolPow[1]) else specVolPow[2]/specVolPow[1])}</td><td>Powers of v and T for 1st row and column of b_p, respectively</td></tr>
<tr><td>b_p=if size(b_v, 1) == 1 then b_v .^ (-pressPow[1]) else {(if specVolPow[1] + i == 0 or specVolPow[1] + i == 1 or size(b_v, 1) == 1 then b_v[i, :] else (if specVolPow[1] + i == 2 and specVolPow[1] &lt;= 0 then b_v[i, :] + b_v[i - 1, :] .^ 2 else (if specVolPow[1] + i == 3 and specVolPow[1] &lt;= 0 then b_v[i, :] + b_v[i - 2, :] .* (b_v[i - 2, :] .^ 2 + 3*b_v[i - 1, :]) else zeros(size(b_v, 2))))) for i in size(b_v, 1):-1:1}</td><td>Coefficients of p as a polynomial in v and T</td></tr>
<tr><td><img src="images/FCSys.Characteristics.'e-'.Graphite.dpS.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.alpha" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.alpha">alpha</a>
</td><td>Ideal base resistivity factor as a function of temperature (&alpha;)</td></tr>
<tr><td><img src="images/FCSys.Characteristics.'e-'.Graphite.dpS.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.c_V" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.c_V">c_V</a>
</td><td>Isochoric specific heat capacity as a function of temperature and pressure (<i>c</i><sub><i>V</i></sub>)</td></tr>
<tr><td><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12S.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.dp" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.dp">dp</a>
</td><td>Derivative of pressure as defined by <a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.p_Tv">p_Tv</a>()</td></tr>
<tr><td><img src="images/FCSys.Characteristics.'e-'.Graphite.dpS.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.dv" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.dv">dv</a>
</td><td>Derivative of specific volume as defined by <a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.v_Tp">v_Tp</a>()</td></tr>
<tr><td><img src="images/FCSys.Characteristics.'e-'.Graphite.dpS.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.f_0" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.f_0">f_0</a>
</td><td>Bulk fluidity as a function of temperature and pressure (<i>f</i><sub>0</sub>)</td></tr>
<tr><td><img src="images/FCSys.Characteristics.'e-'.Graphite.dpS.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.g" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.g">g</a>
</td><td>Gibbs potential as a function of temperature and pressure</td></tr>
<tr><td><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12S.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.h" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.h">h</a>
</td><td>Specific enthalpy as a function of temperature and pressure</td></tr>
<tr><td><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12S.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.p_Tv" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.p_Tv">p_Tv</a>
</td><td>Pressure as a function of temperature and specific volume</td></tr>
<tr><td><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12S.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.s" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.s">s</a>
</td><td>Specific entropy as a function of temperature and pressure</td></tr>
<tr><td><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12S.png" alt="FCSys.Characteristics.BaseClasses.Characteristic.v_Tp" width=20  height=20 align=top>&nbsp;<a href="FCSys_Characteristics_BaseClasses_Characteristic.html#FCSys.Characteristics.BaseClasses.Characteristic.v_Tp">v_Tp</a>
</td><td>Specific volume as a function of temperature and pressure</td></tr>
</table>
<p><h3>Types and constants</h3>
<pre><font color="blue">constant </font><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">Q.TemperatureAbsolute</a> T_lim_alpha[:]={0,Modelica.Constants.inf} <font color="darkgreen">
  &quot;Temperature limits for the rows of b_eta and b_lambda (<i>T</i><sub>lim &alpha;</sub>)&quot;</font>;</pre><p>
<pre><font color="blue">constant </font>Real b_eta[<font color="red">size</font>(T_lim_alpha, 1) - 1, 4] <font color="darkgreen">
  &quot;Constants in NASA correlation for viscosity (<i>b<sub>&eta;</sub>)&quot;</font>;</pre><p>
<pre><font color="blue">constant </font>Real b_lambda[<font color="red">size</font>(T_lim_alpha, 1) - 1, 4] <font color="darkgreen">
  &quot;Constants in NASA correlation for thermal conductivity (<i>b<sub>&lambda;</sub>)&quot;</font>;</pre><p>
<hr>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE f_12<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<h2><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12I.png" alt="FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12"></a><a href="FCSys_Characteristics_BaseClasses_CharacteristicNASA.html#FCSys.Characteristics.BaseClasses.CharacteristicNASA">FCSys.Characteristics.BaseClasses.CharacteristicNASA</a>.f_12</h2>
<b>Fluidity as a function of temperature and pressure (<i>f</i><sub>12</sub>)</b><p>
<p><h3>Information</h3></p>
<p>This function is based on based on NASA CEA
  [<a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">McBride1996</a>, <a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">Svehla1995</a>]</p><p>
Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).
<p><h3>Inputs</h3><p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">TemperatureAbsolute</a></td><td>T</td><td>&nbsp;</td><td>Temperature</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.PressureAbsolute">PressureAbsolute</a></td><td>p</td><td>1*U.atm</td><td>Pressure [m/(l.T2)]</td></tr>
</table>
<p><h3>Outputs</h3><p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Fluidity">Fluidity</a></td><td>f_12</td><td>Fluidity [l.T/m]</td></tr>
</table>
<p><h3>Modelica definition</h3>
<pre>
<font color="blue">redeclare </font><font color="blue">function</font> f_12 <font color="darkgreen">
  &quot;Fluidity as a function of temperature and pressure (<i>f</i><sub>12</sub>)&quot;</font>

  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a>;

  <font color="blue">input </font><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">Q.TemperatureAbsolute</a> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">final </font><font color="blue">input </font><a href="FCSys_Quantities.html#FCSys.Quantities.PressureAbsolute">Q.PressureAbsolute</a> p=1*U.atm <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="darkgreen">// Note:  Pressure is provided for generality but isn&#39;t used here.</font>
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Fluidity">Q.Fluidity</a> f_12 <font color="darkgreen">&quot;Fluidity&quot;</font>;

<font color="blue">protected </font>
  <textblock type="model" expanded="false" path="FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12.b_eta_adj"><font color="blue">function</font> b_eta_adj <font color="darkgreen">
    &quot;Return unit-adjusted NASA CEA constants for viscosity&quot;</font>
    <font color="darkgreen">// See note in b_eta_adj() in alpha_tau().</font>
    <font color="blue">output </font>Real b_eta_adj[<font color="red">size</font>(CharacteristicNASA.T_lim_alpha, 1) - 1, 4] <font color="darkgreen">
      &quot;Unit-adjusted NASA CEA constants for viscosity&quot;</font>;

  <font color="blue">algorithm </font>
    b_eta_adj := <font color="red">transpose</font>({b_eta[:, 1],b_eta[:, 2],b_eta[:, 3],b_eta[:, 4] -
      b_eta[:, 1]*<font color="red">ln</font>(U.K) + <font color="red">fill</font>(<font color="red">ln</font>(1e-6*U.g/(U.cm*U.s*m)), <font color="red">size</font>(T_lim_alpha, 1)
       - 1)});
  <font color="blue">end </font>b_eta_adj</textblock>;

<font color="blue">algorithm </font>
  <font color="darkgreen">/*
  assert(T_lim_alpha[1] &lt;= T and T &lt;= T_lim_alpha[size(T_lim_alpha, 1)], &quot;Temperature &quot;
     + String(T/(U.K)) + &quot; K is out of range for the diffusion properties ([&quot; +
    String(T_lim_alpha[1]/U.K) + &quot;, &quot; + String(T_lim_alpha[size(T_lim_alpha, 1)]
    /U.K) + &quot;] K).&quot;);
  */</font>
  <font color="darkgreen">// Note:  This is commented out so that the function can be inlined.</font>
  <font color="darkgreen">// Note:  In Dymola 7.4 T_lim_alpha[end] can&#39;t be used instead of</font>
  <font color="darkgreen">// T_lim_alpha[size(T_lim_alpha, 1)] due to:</font>
  <font color="darkgreen">//     &quot;Error, not all &quot;end&quot; could be expanded.&quot;</font>

  f_12 := <font color="red">smooth</font>(0, <font color="red">exp</font>(-<font color="red">sum</font>(<font color="blue">if </font>(T_lim_alpha[i] &lt;= T<font color="blue"> or </font>i == 1)<font color="blue"> and </font>(T &lt;=
    T_lim_alpha[i + 1]<font color="blue"> or </font>i == <font color="red">size</font>(T_lim_alpha, 1) - 1)<font color="blue"> then </font>(<font color="red">b_eta_adj</font>())[i, 1]
    *<font color="red">ln</font>(T) + ((<font color="red">b_eta_adj</font>())[i, 2] + (<font color="red">b_eta_adj</font>())[i, 3]/T)/T + (<font color="red">b_eta_adj</font>())[i,
    4]<font color="blue"> else </font>0 <font color="blue">for </font>i<font color="blue"> in </font>1:<font color="red">size</font>(T_lim_alpha, 1) - 1)));
  <font color="darkgreen">// Note:  The annotation is set assuming that the values of the constants</font>
  <font color="darkgreen">// result in a function that is first-order continuous.</font>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>f_12;
</pre>
<hr>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE r_th<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<h2><img src="images/FCSys.Characteristics.BaseClasses.CharacteristicNASA.f_12I.png" alt="FCSys.Characteristics.BaseClasses.CharacteristicNASA.r_th" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Characteristics.BaseClasses.CharacteristicNASA.r_th"></a><a href="FCSys_Characteristics_BaseClasses_CharacteristicNASA.html#FCSys.Characteristics.BaseClasses.CharacteristicNASA">FCSys.Characteristics.BaseClasses.CharacteristicNASA</a>.r_th</h2>
<b>Thermal resistivity as a function of temperature and pressure (<i>r</i><sub>th</sub>)</b><p>
<p><h3>Information</h3></p>
<p>This function is based on based on NASA CEA
  [<a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">McBride1996</a>, <a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">Svehla1995</a>]</p><p>
Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).
<p><h3>Inputs</h3><p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">TemperatureAbsolute</a></td><td>T</td><td>&nbsp;</td><td>Temperature</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.PressureAbsolute">PressureAbsolute</a></td><td>p</td><td>1*U.atm</td><td>Pressure [m/(l.T2)]</td></tr>
</table>
<p><h3>Outputs</h3><p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.ResistivityThermal">ResistivityThermal</a></td><td>r_th</td><td>Thermal resistivity</td></tr>
</table>
<p><h3>Modelica definition</h3>
<pre>
<font color="blue">redeclare </font><font color="blue">function</font> r_th <font color="darkgreen">
  &quot;Thermal resistivity as a function of temperature and pressure (<i>r</i><sub>th</sub>)&quot;</font>

  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a>;

  <font color="blue">input </font><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">Q.TemperatureAbsolute</a> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><a href="FCSys_Quantities.html#FCSys.Quantities.PressureAbsolute">Q.PressureAbsolute</a> p=1*U.atm <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="darkgreen">// Note:  Pressure is provided for generality but isn&#39;t used here.</font>
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistivityThermal">Q.ResistivityThermal</a> r_th <font color="darkgreen">&quot;Thermal resistivity&quot;</font>;

<font color="blue">protected </font>
  <textblock type="model" expanded="false" path="FCSys.Characteristics.BaseClasses.CharacteristicNASA.r_th.b_lambda_adj"><font color="blue">function</font> b_lambda_adj <font color="darkgreen">
    &quot;Return unit-adjusted NASA CEA constants for thermal conductivity&quot;</font>
    <font color="darkgreen">// Note:  If b_lambda were defined as a local constant instead of a</font>
    <font color="darkgreen">// function, it would prevent the alpha_tau function from</font>
    <font color="darkgreen">// being inlined.  If it were defined as a global final constant, it</font>
    <font color="darkgreen">// would need to be updated manually when b_eta is changed.</font>
    <font color="blue">output </font>Real b_lambda_adj[<font color="red">size</font>(T_lim_alpha, 1) - 1, 4] <font color="darkgreen">
      &quot;Unit-adjusted NASA CEA constants for thermal conductivity&quot;</font>;
  <font color="blue">algorithm </font>
    b_lambda_adj := <font color="red">transpose</font>({b_lambda[:, 1],b_lambda[:, 2],b_lambda[:, 3],
      b_lambda[:, 4] - b_lambda[:, 1]*<font color="red">ln</font>(U.K) + <font color="red">fill</font>(<font color="red">ln</font>(1e-6*U.W/(U.cm*U.K)), <font color="red">
      size</font>(T_lim_alpha, 1) - 1)});
  <font color="blue">end </font>b_lambda_adj</textblock>;

<font color="blue">algorithm </font>
  <font color="darkgreen">/*
  assert(T_lim_alpha[1] &lt;= T and T &lt;= T_lim_alpha[size(T_lim_alpha, 1)], &quot;Temperature &quot;
     + String(T/(U.K)) + &quot; K is out of range for the diffusion properties ([&quot; +
    String(T_lim_alpha[1]/U.K) + &quot;, &quot; + String(T_lim_alpha[size(T_lim_alpha, 1)]
    /U.K) + &quot;] K).&quot;);
  */</font>
  <font color="darkgreen">// Note:  This is commented out so that the function can be inlined.</font>
  <font color="darkgreen">// Note:  In Dymola 7.4 T_lim_alpha[end] can&#39;t be used instead of</font>
  <font color="darkgreen">// T_lim_alpha[size(T_lim_alpha, 1)] due to:</font>
  <font color="darkgreen">//     &quot;Error, not all &quot;end&quot; could be expanded.&quot;</font>

  r_th := <font color="red">c_V</font>(T, p)*<font color="red">smooth</font>(0, <font color="red">exp</font>(-<font color="red">sum</font>(<font color="blue">if </font>(T_lim_alpha[i] &lt;= T<font color="blue"> or </font>i == 1)<font color="blue"> and </font>(
    T &lt;= T_lim_alpha[i + 1]<font color="blue"> or </font>i == <font color="red">size</font>(T_lim_alpha, 1) - 1)<font color="blue"> then </font>(<font color="red">
    b_lambda_adj</font>())[i, 1]*<font color="red">ln</font>(T) + ((<font color="red">b_lambda_adj</font>())[i, 2] + (<font color="red">b_lambda_adj</font>())[i,
    3]/T)/T + (<font color="red">b_lambda_adj</font>())[i, 4]<font color="blue"> else </font>0 <font color="blue">for </font>i<font color="blue"> in </font>1:<font color="red">size</font>(T_lim_alpha, 1) - 1)));
  <font color="darkgreen">// Note:  The annotation is set assuming that the values of the constants</font>
  <font color="darkgreen">// result in a function that is first-order continuous.</font>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>r_th;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2012, Kevin Davies, Georgia Tech Research Corporation. Last updated Thu Dec 27 15:37:51 2012.
</div>
</body>
</html>

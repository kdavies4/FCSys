<HTML>
<HEAD>
<TITLE>FCSys.Tests.BaseClasses.Utilities.Polynomial</TITLE>
<META name="HTML-Generator" content="Dymola">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Polynomial<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial"></A><A HREF="FCSys_Tests_BaseClasses_Utilities.html#FCSys.Tests.BaseClasses.Utilities"
>FCSys.Tests.BaseClasses.Utilities</A>.Polynomial</H2>
<P><H3>Information</H3></P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllS.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAll" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAll"
>RunAll</A>
</TD><TD>Run all of the test models for the <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial">Polynomial</a> package</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllS.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.Translatef" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.Translatef"
>Translatef</A>
</TD><TD>Evaluate the translated version of <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllS.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.F" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.F"
>F</A>
</TD><TD>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.F">F</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllS.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.dF" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.dF"
>dF</A>
</TD><TD>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.dF">dF</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.F">F</a>()</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.fS.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.f" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.f"
>f</A>
</TD><TD>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.dfS.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.df" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.df"
>df</A>
</TD><TD>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.df">df</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.dfS.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.d2f" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.d2f"
>d2f</A>
</TD><TD>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.d2f">d2f</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.df">df</a>()</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RunAll<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllI.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAll" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAll"></A><A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial"
>FCSys.Tests.BaseClasses.Utilities.Polynomial</A>.RunAll</H2>
<B>Run all of the test models for the <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial">Polynomial</a> package</B><p>
<P><H3>Information</H3></P>
<PRE></pre><p>If this model simulates without failure,
  then the test has passed.</p><pre></PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> RunAll <font color="darkgreen">
  &quot;</pre>Run all of the test models for the <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial\">Polynomial</a> package<pre>&quot;</font>
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">constant </font>Boolean x[:]={<font color="red">f</font>()} <font color="darkgreen">&quot;Function tests&quot;</font>;

  <A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.F"
>F</A> testF;
  <A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.dF"
>dF</A> testdF;
  <A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.df"
>df</A> testdf;
  <A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.d2f"
>d2f</A> testd2f;
  <A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial.Translatef"
>Translatef</A> translatef;
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>RunAll;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Translatef<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllI.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.Translatef" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial.Translatef"></A><A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial"
>FCSys.Tests.BaseClasses.Utilities.Polynomial</A>.Translatef</H2>
<B>Evaluate the translated version of <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Translatef <font color="darkgreen">
  &quot;</pre>Evaluate the translated version of <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.f\">f</a>()<pre>&quot;</font>
  <font color="blue">import </font><A HREF="FCSys_BaseClasses_Utilities_Polynomial.html#FCSys.BaseClasses.Utilities.Polynomial.f"
>FCSys.BaseClasses.Utilities.Polynomial.f</A>;
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">output </font>Real x1=<font color="red">f</font>(
      time,
      {1,1,1,1},
      0);
  <font color="darkgreen">// Manually check the translated model to be sure that the polynomial is</font>
  <font color="darkgreen">// written in nested form (for efficiency).  In Dymola 7.4 turn on the</font>
  <font color="darkgreen">// option &quot;Generate listing of translated Modelica code in dsmodel.mof&quot;.</font>
  <font color="darkgreen">// dsmodel.mof should contain:</font>
  <font color="darkgreen">//     x1 := 1 + time*(1 + time*(1 + time)).</font>
  <font color="blue">output </font>Real x2=<font color="red">f</font>(time, <font color="red">ones</font>(31));
  <font color="blue">output </font>Real x3=<font color="red">f</font>(time, <font color="red">ones</font>(32));
  <font color="darkgreen">// The function is only unrolled to a limited depth (currently 10th order</font>
  <font color="darkgreen">// polynomial).  In Dymola 7.4 f(time, ones(31)) is implemented fully</font>
  <font color="darkgreen">// recursively, but f(time, ones(32)) isn&#39;t.</font>
  <font color="blue">output </font>Real x4=<font color="red">f</font>(
      time + 1,
      {1,1,1,1},
      -3);
  <font color="darkgreen">// Note:  The an offset must be applied to time to prevent division</font>
  <font color="darkgreen">// by zero.</font>

<font color="blue">end </font>Translatef;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE F<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllI.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.F" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial.F"></A><A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial"
>FCSys.Tests.BaseClasses.Utilities.Polynomial</A>.F</H2>
<B>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.F">F</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</B><p>
<P><H3>Information</H3></P>
<PRE></pre><p>If this model simulates without failure,
    then the test has passed.</p><pre></PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>-1</TD><TD>Power of the first polynomial term</TD></TR>
<TR><TD>Real</TD><TD>u2[:]</TD><TD>1:3</TD><TD>Real arguments to function (must have sufficient richness)</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> F <font color="darkgreen">
  &quot;</pre>Test <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.F\">F</a>() based on its relation to <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.f\">f</a>()<pre>&quot;</font>
  <font color="darkgreen">// This approach is based on [Dassault2010, vol. 2, pp. 300-301].</font>
  <font color="blue">import </font><A HREF="FCSys_BaseClasses_Utilities_Polynomial.html#FCSys.BaseClasses.Utilities.Polynomial"
>FCSys.BaseClasses.Utilities.Polynomial</A>.*;

  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font>Integer n=-1 <font color="darkgreen">&quot;Power of the first polynomial term&quot;</font>;

  Real u1=1 + time <font color="darkgreen">&quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  <font color="blue">parameter </font>Real u2[:]=1:3 <font color="darkgreen">
    &quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  <font color="darkgreen">// u2 must not be time-varying.  Otherwise, there&#39;s no requirement</font>
  <font color="darkgreen">// that y1 == y2.</font>
  Real y1 <font color="darkgreen">&quot;Direct result of function&quot;</font>;
  Real y2 <font color="darkgreen">&quot;Integral of derivative of y1&quot;</font>;

<font color="blue">initial </font><font color="blue">equation </font>
  y2 = y1;

<font color="blue">equation </font>
  y1 = <font color="red">F</font>(
    u1,
    u2,
    n);
  <font color="red">f</font>(u1,
    u2,
    n) = <font color="red">der</font>(y2);

  <font color="red">assert</font>(<font color="red">abs</font>(y1 - y2) &lt; 1e-6, &quot;The derivative is incorrect.&quot;);
  <font color="darkgreen">// Note:  The simulation tolerance is set to 1e-8.</font>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>F;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE dF<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.RunAllI.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.dF" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial.dF"></A><A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial"
>FCSys.Tests.BaseClasses.Utilities.Polynomial</A>.dF</H2>
<B>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.dF">dF</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.F">F</a>()</B><p>
<P><H3>Information</H3></P>
<PRE></pre><p>If this model simulates without failure,
  then the test has passed.</p><pre></PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>-1</TD><TD>Power of the first polynomial term</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> dF <font color="darkgreen">
  &quot;</pre>Test <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.dF\">dF</a>() based on its relation to <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.F\">F</a>()<pre>&quot;</font>
  <font color="darkgreen">// This approach is based on [Dassault2010, vol. 2, pp. 300-301].</font>
  <font color="blue">import </font><A HREF="FCSys_BaseClasses_Utilities_Polynomial.html#FCSys.BaseClasses.Utilities.Polynomial"
>FCSys.BaseClasses.Utilities.Polynomial</A>.*;
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font>Integer n=-1 <font color="darkgreen">&quot;Power of the first polynomial term&quot;</font>;

  Real u1=1 + time <font color="darkgreen">&quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  Real u2[:]=(1 + time^2)*(1:3) <font color="darkgreen">
    &quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  Real y1 <font color="darkgreen">&quot;Direct result of function&quot;</font>;
  Real y2 <font color="darkgreen">&quot;Integral of derivative of y1&quot;</font>;

<font color="blue">initial </font><font color="blue">equation </font>
  y2 = y1;

<font color="blue">equation </font>
  y1 = <font color="red">F</font>(
    u1,
    u2,
    n);
  <font color="red">dF</font>(
    u1,
    u2,
    n,
    <font color="red">der</font>(u1),
    <font color="red">der</font>(u2)) = <font color="red">der</font>(y2);
  <font color="darkgreen">// Note:  This is equivalent to der(y1) = der(y2), but it must be</font>
  <font color="darkgreen">// explicit to ensure that the translator uses the defined derivative</font>
  <font color="darkgreen">// instead of the automatically derived one.</font>

  <font color="red">assert</font>(<font color="red">abs</font>(y1 - y2) &lt; 1e-6, &quot;The derivative is incorrect.&quot;);
  <font color="darkgreen">// Note:  The simulation tolerance is set to 1e-8.</font>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>dF;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE f<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.fI.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.f" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial.f"></A><A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial"
>FCSys.Tests.BaseClasses.Utilities.Polynomial</A>.f</H2>
<B>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</B><p>
<P><H3>Information</H3></P>
<PRE></pre><p>
  This function call will fail if any of the functions return an
  incorrect result.  It will return <code>true</code> if all of the functions pass.
  There are no inputs.</p><pre></PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for functions).
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>ok</TD><TD>true, if all tests passed</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> f <font color="darkgreen">
  &quot;</pre>Test <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.f\">f</a>()<pre>&quot;</font>
  <font color="blue">import </font><A HREF="FCSys_BaseClasses_Utilities_Polynomial.html#FCSys.BaseClasses.Utilities.Polynomial.f"
>FCSys.BaseClasses.Utilities.Polynomial.f</A>;
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;

  <font color="blue">output </font>Boolean ok <font color="darkgreen">&quot;true, if all tests passed&quot;</font>;

<font color="blue">algorithm </font>
  ok := false;

  <font color="red">assert</font>(<font color="red">f</font>(
    2,
    {1,2,1},
    0) == 1 + 2*2 + 1*2^2, &quot;The f function failed.&quot;);
  <font color="red">assert</font>(<font color="red">f</font>(2, <font color="red">zeros</font>(0)) == 0, &quot;The f function failed.&quot;);
  <font color="red">assert</font>(<font color="red">f</font>(2, {1}) == 1, &quot;The f function failed.&quot;);
  <font color="red">assert</font>(<font color="red">f</font>(2, {0,0,1}) == 4, &quot;The f function failed.&quot;);
  <font color="red">assert</font>(<font color="red">f</font>(2, <font color="red">ones</font>(8)) == 2^8 - 1, &quot;The f function failed.&quot;);
  <font color="red">assert</font>(<font color="red">f</font>(
    2,
    {1,0,0},
    -3) == 1/8, &quot;The f function failed.&quot;);
  <font color="darkgreen">// Note:  F(), dF(), df(), and d2f() are not tested here.  They can be</font>
  <font color="darkgreen">// tested by simulating TestF, TestdF, Testdf, and Testd2f.</font>

  ok := true;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>f;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE df<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.dfI.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.df" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial.df"></A><A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial"
>FCSys.Tests.BaseClasses.Utilities.Polynomial</A>.df</H2>
<B>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.df">df</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.f">f</a>()</B><p>
<P><H3>Information</H3></P>
<PRE></pre><p>If this model simulates without failure,
  then the test has passed.</p><pre></PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>-1</TD><TD>Power of the first polynomial term</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> df <font color="darkgreen">
  &quot;</pre>Test <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.df\">df</a>() based on its relation to <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.f\">f</a>()<pre>&quot;</font>
  <font color="darkgreen">// This approach is based on [Dassault2010, vol. 2, pp. 300-301].</font>
  <font color="blue">import </font><A HREF="FCSys_BaseClasses_Utilities_Polynomial.html#FCSys.BaseClasses.Utilities.Polynomial"
>FCSys.BaseClasses.Utilities.Polynomial</A>.*;
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font>Integer n=-1 <font color="darkgreen">&quot;Power of the first polynomial term&quot;</font>;

  Real u1=1 + time <font color="darkgreen">&quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  Real u2[:]=(1 + time^2)*(1:3) <font color="darkgreen">
    &quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  Real y1 <font color="darkgreen">&quot;Direct result of function&quot;</font>;
  Real y2 <font color="darkgreen">&quot;Integral of derivative of y1&quot;</font>;

<font color="blue">initial </font><font color="blue">equation </font>
  y2 = y1;

<font color="blue">equation </font>
  y1 = <font color="red">f</font>(
    u1,
    u2,
    n);
  <font color="red">df</font>(
    u1,
    u2,
    n,
    <font color="red">der</font>(u1),
    <font color="red">der</font>(u2)) = <font color="red">der</font>(y2);
  <font color="darkgreen">// Note:  This is equivalent to der(y1) = der(y2), but it must be</font>
  <font color="darkgreen">// explicit to ensure that the translator uses the defined derivative</font>
  <font color="darkgreen">// instead of the automatically derived one.</font>

  <font color="red">assert</font>(<font color="red">abs</font>(y1 - y2) &lt; 1e-6, &quot;The derivative is incorrect.&quot;);
  <font color="darkgreen">// Note:  The simulation tolerance is set to 1e-8.</font>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>df;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE d2f<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.BaseClasses.Utilities.Polynomial.dfI.png" ALT="FCSys.Tests.BaseClasses.Utilities.Polynomial.d2f" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.BaseClasses.Utilities.Polynomial.d2f"></A><A HREF="FCSys_Tests_BaseClasses_Utilities_Polynomial.html#FCSys.Tests.BaseClasses.Utilities.Polynomial"
>FCSys.Tests.BaseClasses.Utilities.Polynomial</A>.d2f</H2>
<B>Test <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.d2f">d2f</a>() based on its relation to <a href="modelica://FCSys.BaseClasses.Utilities.Polynomial.df">df</a>()</B><p>
<P><H3>Information</H3></P>
<PRE></pre><p>If this model simulates without failure,
  then the test has passed.</p><pre></PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>-1</TD><TD>Power of the first polynomial term</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> d2f <font color="darkgreen">
  &quot;</pre>Test <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.d2f\">d2f</a>() based on its relation to <a href=\"modelica://FCSys.BaseClasses.Utilities.Polynomial.df\">df</a>()<pre>&quot;</font>
  <font color="darkgreen">// This approach is based on [Dassault2010, vol. 2, pp. 300-301].</font>
  <font color="blue">import </font><A HREF="FCSys_BaseClasses_Utilities_Polynomial.html#FCSys.BaseClasses.Utilities.Polynomial"
>FCSys.BaseClasses.Utilities.Polynomial</A>.*;
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font>Integer n=-1 <font color="darkgreen">&quot;Power of the first polynomial term&quot;</font>;

  Real u1=1 + time <font color="darkgreen">&quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  Real u2[:]=(1 + time^2)*(1:3) <font color="darkgreen">
    &quot;Real arguments to function (must have sufficient richness)&quot;</font>;
  Real y1 <font color="darkgreen">&quot;Direct result of function&quot;</font>;
  Real y2 <font color="darkgreen">&quot;Integral of derivative of y1&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">final </font>Real du1=<font color="red">der</font>(u1) <font color="darkgreen">&quot;Derivative of u1&quot;</font>;
  <font color="blue">final </font>Real du2[:]=<font color="red">der</font>(u2) <font color="darkgreen">&quot;Derivative of u2&quot;</font>;
  <font color="darkgreen">// In Dymola 7.4, it&#39;s necessary to explicitly define these intermediate</font>
  <font color="darkgreen">// variables (since there are second-order derivatives).</font>

<font color="blue">initial </font><font color="blue">equation </font>
  y2 = y1;

<font color="blue">equation </font>
  y1 = <font color="red">df</font>(
    u1,
    u2,
    n,
    du1,
    du2);
  <font color="red">d2f</font>(
    u1,
    u2,
    n,
    du1,
    du2,
    <font color="red">der</font>(du1),
    <font color="red">der</font>(du2)) = <font color="red">der</font>(y2);
  <font color="darkgreen">// Note:  This is equivalent to der(y1) = der(y2), but it must be</font>
  <font color="darkgreen">// explicit to ensure that the translator uses the defined derivative</font>
  <font color="darkgreen">// instead of the automatically derived one.</font>

  <font color="red">assert</font>(<font color="red">abs</font>(y1 - y2) &lt; 1e-6, &quot;The derivative is incorrect.&quot;);
  <font color="darkgreen">// Note:  The simulation tolerance is set to 1e-8.</font>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>d2f;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Fri Mar 22 00:06:53 2013.
</address></BODY>
</HTML>

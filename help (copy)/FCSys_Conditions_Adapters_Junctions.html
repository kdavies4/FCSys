<HTML>
<HEAD>
<TITLE>FCSys.Conditions.Adapters.Junctions</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;&lt;html&gt;&lt;a href=\&quot;modelica://Modelica\&quot;&gt;Modelica&lt;/a&gt; junctions between pure substances and their mixtures&lt;/html&gt;&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Junctions<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="FCSys.Conditions.Adapters.Junctions"></A><A HREF="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters"
>FCSys.Conditions.Adapters</A>.Junctions</H2>
<B><a href="modelica://Modelica">Modelica</a> junctions between pure substances and their mixtures</B>
<P>
<P><H3>Information</H3></P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="FCSys.Conditions.Adapters.Junctions.Junction2S.png" ALT="FCSys.Conditions.Adapters.Junctions.Junction2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Conditions_Adapters_Junctions.html#FCSys.Conditions.Adapters.Junctions.Junction2"
>Junction2</A>
</TD><TD>Junction between two pure substances and their mixture</TD></TR>
<TR><TD><IMG SRC="FCSys.Conditions.Adapters.Junctions.Junction3S.png" ALT="FCSys.Conditions.Adapters.Junctions.Junction3" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Conditions_Adapters_Junctions.html#FCSys.Conditions.Adapters.Junctions.Junction3"
>Junction3</A>
</TD><TD>Junction between three pure substances and their mixture</TD></TR>
<TR><TD><IMG SRC="FCSys.Conditions.Adapters.Junctions.BaseClassesS.png" ALT="FCSys.Conditions.Adapters.Junctions.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Conditions_Adapters_Junctions_BaseClasses.html#FCSys.Conditions.Adapters.Junctions.BaseClasses"
>BaseClasses</A>
</TD><TD>Base classes (not generally for direct use)</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Junction2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Conditions.Adapters.Junctions.Junction2I.png" ALT="FCSys.Conditions.Adapters.Junctions.Junction2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Conditions.Adapters.Junctions.Junction2"></A><A HREF="FCSys_Conditions_Adapters_Junctions.html#FCSys.Conditions.Adapters.Junctions"
>FCSys.Conditions.Adapters.Junctions</A>.Junction2</H2>
<B>Junction between two pure substances and their mixture</B><p>
<IMG SRC="FCSys.Conditions.Adapters.Junctions.Junction2D.png" ALT="FCSys.Conditions.Adapters.Junctions.Junction2">
<P><H3>Information</H3></P>
<PRE></pre><p>
  Assumptions:
  <ol>
  <li>The mixing is ideal.  If the pure substances are being combined,
  then the massic enthalpy of the mixture is the mass-weighted sum of the pure substances.
  If the mixture is being split, then each of the pure substances receives fluid
  at the same massic enthalpy.
  </li>
  <li>The mixture observes Dalton's law.  The pressure of the mixture is the sum
  of the pressures of the pure substances.
  </li>
  </ol>
  </p><pre></PRE><P>
Extends from <A HREF="FCSys_Conditions_Adapters_Junctions_BaseClasses.html#FCSys.Conditions.Adapters.Junctions.BaseClasses.PartialJunction"
>BaseClasses.PartialJunction</A> (Partial model for a junction between pure substances and their mixture).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Material properties</TD></TR>
<TR><TD colspan="2">replaceable package MixtureMedium</TD><TD>Media.AnodeGas</TD><TD>Medium model for the mixture</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>mixturePort</TD><TD>Fluid port for the mixture</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>purePort1</TD><TD>Fluid port for the 1st pure substance</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>purePort2</TD><TD>Fluid port for the 2nd pure substance</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Junction2 <font color="darkgreen">
  &quot;Junction between two pure substances and their mixture&quot;</font>
  <font color="blue">extends </font><A HREF="FCSys_Conditions_Adapters_Junctions_BaseClasses.html#FCSys.Conditions.Adapters.Junctions.BaseClasses.PartialJunction"
>BaseClasses.PartialJunction</A>;

  <font color="blue">replaceable </font><font color="blue">package</font> Medium1 = <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Media_IdealGases_SingleGases_H2.html#Modelica.Media.IdealGases.SingleGases.H2"
>Modelica.Media.IdealGases.SingleGases.H2</A> (
        referenceChoice=Modelica.Media.Interfaces.PartialMedium.Choices.ReferenceEnthalpy.ZeroAt25C,
        excludeEnthalpyOfFormation=false) <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialPureSubstance <font color="darkgreen">
    &quot;</pre>Medium model for the 1<sup>st</sup> pure substance<pre>&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium2 = <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Media_IdealGases_SingleGases_H2O.html#Modelica.Media.IdealGases.SingleGases.H2O"
>Modelica.Media.IdealGases.SingleGases.H2O</A> (
        referenceChoice=Modelica.Media.Interfaces.PartialMedium.Choices.ReferenceEnthalpy.ZeroAt25C,
        excludeEnthalpyOfFormation=false) <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialPureSubstance <font color="darkgreen">
    &quot;</pre>Medium model for the 2<sup>nd</sup> pure substance<pre>&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> purePort1(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font>
      Medium = <A HREF="FCSys_Conditions_Adapters_Junctions_Medium1.html#FCSys.Conditions.Adapters.Junctions.Junction2.Medium1"
>Medium1</A>) <font color="darkgreen">&quot;Fluid port for the 1st pure substance&quot;</font>;
  <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> purePort2(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font>
      Medium = <A HREF="FCSys_Conditions_Adapters_Junctions_Medium2.html#FCSys.Conditions.Adapters.Junctions.Junction2.Medium2"
>Medium2</A>) <font color="darkgreen">&quot;Fluid port for the 2nd pure substance&quot;</font>;</textblock>

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="darkgreen">// Check the number and names of substances</font>
  <font color="red">assert</font>(MixtureMedium.nS == 2, &quot;The mixture medium must have exactly two substances.&quot;);
  <font color="red">assert</font>(MixtureMedium.substanceNames[1] == Medium1.substanceNames[1], &quot;The first substance of the mixture medium (MixtureMedium) is \&quot;&quot;
     + MixtureMedium.substanceNames[1] + &quot;\&quot;,
but the first pure substance is \&quot;&quot; + Medium1.substanceNames[1] + &quot;\&quot;.&quot;);
  <font color="red">assert</font>(MixtureMedium.substanceNames[2] == Medium2.substanceNames[1], &quot;The second substance of the mixture medium (MixtureMedium) is \&quot;&quot;
     + MixtureMedium.substanceNames[2] + &quot;\&quot;,
but the second pure substance is \&quot;&quot; + Medium2.substanceNames[1] + &quot;\&quot;.&quot;);

  <font color="darkgreen">// Check the extra properties.</font>
  <font color="red">assert</font>(MixtureMedium.nC == Medium1.nC<font color="blue"> and </font>MixtureMedium.nC == Medium2.nC, &quot;The media must all have the same number of extra properties.&quot;);
  <font color="blue">for </font>i<font color="blue"> in </font>1:MixtureMedium.nC<font color="blue"> loop</font>
    <font color="red">assert</font>(MixtureMedium.extraPropertiesNames[i] == Medium1.extraPropertiesNames[
      i], &quot;Extra property #&quot; + <font color="red">String</font>(i) + &quot; of the mixture medium (MixtureMedium) is \&quot;&quot;
       + MixtureMedium.extraPropertiesNames[i] + &quot;\&quot;,
but that of the first pure substance (Medium1) is \&quot;&quot; + Medium1.extraPropertiesNames[
      i] + &quot;\&quot;.&quot;);
    <font color="red">assert</font>(MixtureMedium.extraPropertiesNames[i] == Medium2.extraPropertiesNames[
      i], &quot;Extra property #&quot; + <font color="red">String</font>(i) + &quot; of the mixture medium (MixtureMedium) is \&quot;&quot;
       + MixtureMedium.extraPropertiesNames[i] + &quot;\&quot;,
but that of the second pure substance (Medium2) is \&quot;&quot; + Medium2.extraPropertiesNames[
      i] + &quot;\&quot;.&quot;);
  <font color="blue">end for</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Dalton&#39;s law (additivity of pressure)</font>
  mixturePort.p = purePort1.p + purePort2.p;

  <font color="darkgreen">// Streams</font>
  <font color="darkgreen">// -------</font>
  <font color="darkgreen">// Enthalpy</font>
  purePort1.h_outflow = <font color="red">inStream</font>(mixturePort.h_outflow);
  purePort2.h_outflow = <font color="red">inStream</font>(mixturePort.h_outflow);
  mixturePort.h_outflow = X*{<font color="red">inStream</font>(purePort1.h_outflow),<font color="red">inStream</font>(purePort2.h_outflow)};
  <font color="darkgreen">//</font>
  <font color="darkgreen">// Extra properties</font>
  purePort1.C_outflow = <font color="red">inStream</font>(mixturePort.C_outflow);
  purePort2.C_outflow = <font color="red">inStream</font>(mixturePort.C_outflow);
  mixturePort.C_outflow = X*{<font color="red">inStream</font>(purePort1.C_outflow),<font color="red">inStream</font>(purePort2.C_outflow)};

  <font color="darkgreen">// Mass conservation (no storage)</font>
  0 = X[1]*mixturePort.m_flow + purePort1.m_flow <font color="darkgreen">&quot;Substance 1&quot;</font>;
  0 = X[2]*mixturePort.m_flow + purePort2.m_flow <font color="darkgreen">&quot;Substance 2&quot;</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Junction2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Junction3<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Conditions.Adapters.Junctions.Junction3I.png" ALT="FCSys.Conditions.Adapters.Junctions.Junction3" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Conditions.Adapters.Junctions.Junction3"></A><A HREF="FCSys_Conditions_Adapters_Junctions.html#FCSys.Conditions.Adapters.Junctions"
>FCSys.Conditions.Adapters.Junctions</A>.Junction3</H2>
<B>Junction between three pure substances and their mixture</B><p>
<IMG SRC="FCSys.Conditions.Adapters.Junctions.Junction3D.png" ALT="FCSys.Conditions.Adapters.Junctions.Junction3">
<P><H3>Information</H3></P>
<PRE></pre><p>
  Assumptions:
  <ol>
  <li>The mixing is ideal.  If the pure substances are being combined,
  then the massic enthalpy of the mixture is the mass-weighted sum of the pure substances.
  If the mixture is being split, then each of the pure substances receives fluid
  at the same massic enthalpy.
  </li>
  <li>The mixture observes Dalton's law.  The pressure of the mixture is the sum
  of the pressures of the pure substances.
  </li>
  </ol>
  </p><pre></PRE><P>
Extends from <A HREF="FCSys_Conditions_Adapters_Junctions_BaseClasses.html#FCSys.Conditions.Adapters.Junctions.BaseClasses.PartialJunction"
>BaseClasses.PartialJunction</A> (Partial model for a junction between pure substances and their mixture).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Material properties</TD></TR>
<TR><TD colspan="2">replaceable package MixtureMedium</TD><TD>Media.CathodeGas</TD><TD>Medium model for the mixture</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>mixturePort</TD><TD>Fluid port for the mixture</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>purePort1</TD><TD>Fluid port for the 1st pure substance</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>purePort2</TD><TD>Fluid port for the 2nd pure substance</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>purePort3</TD><TD>Fluid port for the 3rd pure substance</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=3>Material properties</TD></TR>
<TR><TD colspan="2">replaceable package MixtureMedium</TD><TD>Medium model for the mixture</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Junction3 <font color="darkgreen">
  &quot;Junction between three pure substances and their mixture&quot;</font>
  <font color="blue">extends </font><A HREF="FCSys_Conditions_Adapters_Junctions_BaseClasses.html#FCSys.Conditions.Adapters.Junctions.BaseClasses.PartialJunction"
>BaseClasses.PartialJunction</A>(<font color="blue">redeclare </font><font color="blue">replaceable </font><font color="blue">package</font>
      MixtureMedium = <A HREF="FCSys_Conditions_Adapters_Media_CathodeGas.html#FCSys.Conditions.Adapters.Media.CathodeGas"
>Media.CathodeGas</A>);

  <font color="blue">replaceable </font><font color="blue">package</font> Medium1 = <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Media_IdealGases_SingleGases_H2O.html#Modelica.Media.IdealGases.SingleGases.H2O"
>Modelica.Media.IdealGases.SingleGases.H2O</A> (
        referenceChoice=Modelica.Media.Interfaces.PartialMedium.Choices.ReferenceEnthalpy.ZeroAt25C,
        excludeEnthalpyOfFormation=false) <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialPureSubstance <font color="darkgreen">
    &quot;</pre>Medium model for the 1<sup>st</sup> pure substance<pre>&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium2 = <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Media_IdealGases_SingleGases_N2.html#Modelica.Media.IdealGases.SingleGases.N2"
>Modelica.Media.IdealGases.SingleGases.N2</A> (
        referenceChoice=Modelica.Media.Interfaces.PartialMedium.Choices.ReferenceEnthalpy.ZeroAt25C,
        excludeEnthalpyOfFormation=false) <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialPureSubstance <font color="darkgreen">
    &quot;</pre>Medium model for the 2<sup>nd</sup> pure substance<pre>&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium3 = <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Media_IdealGases_SingleGases_O2.html#Modelica.Media.IdealGases.SingleGases.O2"
>Modelica.Media.IdealGases.SingleGases.O2</A> (
        referenceChoice=Modelica.Media.Interfaces.PartialMedium.Choices.ReferenceEnthalpy.ZeroAt25C,
        excludeEnthalpyOfFormation=false) <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialPureSubstance <font color="darkgreen">
    &quot;</pre>Medium model for the 3<sup>rd</sup> pure substance<pre>&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> purePort1(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font>
      Medium = <A HREF="FCSys_Conditions_Adapters_Junctions_Medium1.html#FCSys.Conditions.Adapters.Junctions.Junction3.Medium1"
>Medium1</A>) <font color="darkgreen">&quot;Fluid port for the 1st pure substance&quot;</font>;
  <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> purePort2(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font>
      Medium = <A HREF="FCSys_Conditions_Adapters_Junctions_Medium2.html#FCSys.Conditions.Adapters.Junctions.Junction3.Medium2"
>Medium2</A>) <font color="darkgreen">&quot;Fluid port for the 2nd pure substance&quot;</font>;
  <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> purePort3(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font>
      Medium = <A HREF="FCSys_Conditions_Adapters_Junctions_Medium3.html#FCSys.Conditions.Adapters.Junctions.Junction3.Medium3"
>Medium3</A>) <font color="darkgreen">&quot;Fluid port for the 3rd pure substance&quot;</font>;</textblock>

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="darkgreen">// Check the number and names of substances</font>
  <font color="red">assert</font>(MixtureMedium.nS == 3, &quot;The mixture medium must have exactly three substances.&quot;);
  <font color="red">assert</font>(MixtureMedium.substanceNames[1] == Medium1.substanceNames[1], &quot;The first substance of the mixture medium (MixtureMedium) is \&quot;&quot;
     + MixtureMedium.substanceNames[1] + &quot;\&quot;,
but the first pure substance is \&quot;&quot; + Medium1.substanceNames[1] + &quot;\&quot;.&quot;);
  <font color="red">assert</font>(MixtureMedium.substanceNames[2] == Medium2.substanceNames[1], &quot;The second substance of the mixture medium (MixtureMedium) is \&quot;&quot;
     + MixtureMedium.substanceNames[2] + &quot;\&quot;,
but the second pure substance is \&quot;&quot; + Medium2.substanceNames[1] + &quot;\&quot;.&quot;);
  <font color="red">assert</font>(MixtureMedium.substanceNames[3] == Medium3.substanceNames[1], &quot;The second substance of the mixture medium (MixtureMedium) is \&quot;&quot;
     + MixtureMedium.substanceNames[3] + &quot;\&quot;,
but the third pure substance is \&quot;&quot; + Medium2.substanceNames[1] + &quot;\&quot;.&quot;);

  <font color="darkgreen">// Check the extra properties.</font>
  <font color="red">assert</font>(MixtureMedium.nC == Medium1.nC<font color="blue"> and </font>MixtureMedium.nC == Medium2.nC<font color="blue"> and </font>
    MixtureMedium.nC == Medium3.nC, &quot;The media must all have the same number of extra properties.&quot;);
  <font color="blue">for </font>i<font color="blue"> in </font>1:MixtureMedium.nC<font color="blue"> loop</font>
    <font color="red">assert</font>(MixtureMedium.extraPropertiesNames[i] == Medium1.extraPropertiesNames[
      i], &quot;Extra property #&quot; + <font color="red">String</font>(i) + &quot; of the mixture medium (MixtureMedium) is \&quot;&quot;
       + MixtureMedium.extraPropertiesNames[i] + &quot;\&quot;,
but that of the first pure substance (Medium1) is \&quot;&quot; + Medium1.extraPropertiesNames[
      i] + &quot;\&quot;.&quot;);
    <font color="red">assert</font>(MixtureMedium.extraPropertiesNames[i] == Medium2.extraPropertiesNames[
      i], &quot;Extra property #&quot; + <font color="red">String</font>(i) + &quot; of the mixture medium (MixtureMedium) is \&quot;&quot;
       + MixtureMedium.extraPropertiesNames[i] + &quot;\&quot;,
but that of the second pure substance (Medium2) is \&quot;&quot; + Medium2.extraPropertiesNames[
      i] + &quot;\&quot;.&quot;);
    <font color="red">assert</font>(MixtureMedium.extraPropertiesNames[i] == Medium3.extraPropertiesNames[
      i], &quot;Extra property #&quot; + <font color="red">String</font>(i) + &quot; of the mixture medium (MixtureMedium) is \&quot;&quot;
       + MixtureMedium.extraPropertiesNames[i] + &quot;\&quot;,
but that of the third pure substance (Medium3) is \&quot;&quot; + Medium3.extraPropertiesNames[
      i] + &quot;\&quot;.&quot;);
  <font color="blue">end for</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Dalton&#39;s law (additivity of pressure)</font>
  mixturePort.p = purePort1.p + purePort2.p + purePort3.p;

  <font color="darkgreen">// Streams</font>
  <font color="darkgreen">// -------</font>
  <font color="darkgreen">// Enthalpy</font>
  purePort1.h_outflow = <font color="red">inStream</font>(mixturePort.h_outflow);
  purePort2.h_outflow = <font color="red">inStream</font>(mixturePort.h_outflow);
  purePort3.h_outflow = <font color="red">inStream</font>(mixturePort.h_outflow);
  mixturePort.h_outflow = X*{<font color="red">inStream</font>(purePort1.h_outflow),<font color="red">inStream</font>(purePort2.h_outflow),<font color="red">
    inStream</font>(purePort3.h_outflow)};
  <font color="darkgreen">//</font>
  <font color="darkgreen">// Extra properties</font>
  purePort1.C_outflow = <font color="red">inStream</font>(mixturePort.C_outflow);
  purePort2.C_outflow = <font color="red">inStream</font>(mixturePort.C_outflow);
  purePort3.C_outflow = <font color="red">inStream</font>(mixturePort.C_outflow);
  mixturePort.C_outflow = X*{<font color="red">inStream</font>(purePort1.C_outflow),<font color="red">inStream</font>(purePort2.C_outflow),<font color="red">
    inStream</font>(purePort3.C_outflow)};

  <font color="darkgreen">// Mass conservation (no storage)</font>
  0 = X[1]*mixturePort.m_flow + purePort1.m_flow <font color="darkgreen">&quot;Substance 1&quot;</font>;
  0 = X[2]*mixturePort.m_flow + purePort2.m_flow <font color="darkgreen">&quot;Substance 2&quot;</font>;
  0 = X[3]*mixturePort.m_flow + purePort3.m_flow <font color="darkgreen">&quot;Substance 3&quot;</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Junction3;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Fri Mar 22 00:02:09 2013.
</address></BODY>
</HTML>

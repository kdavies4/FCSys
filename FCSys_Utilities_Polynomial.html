<html>
<head>
<title>FCSys.Utilities.Polynomial</title>
<meta name="title" content="Modelica fuel cell library">
<meta name="keywords" content="fuel cell library, FCSys, fuel cell, PEM, proton exchange membrane, polymer exchange membrane, PEMFC, Modelica, Dymola, open-source, electrochemistry">
<meta name="date" content="2014-1-22">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Polynomial functions">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="stylesheets/ModelicaDoc.css">
<link rel="shortcut icon" href="images/favicon.ico">
<script type="text/javascript" src="javascripts/analytics.js"></script>
</head>
<body>
<span itemscope itemtype="http://schema.org/SoftwareApplication">
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="index.html"><p itemprop="name" class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="index.html">
    <img itemprop="image" src="images/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

<h3>Table of Contents</h3>

<ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_Blocks.html">Blocks</a></li>
    <li><a href="FCSys_Conditions.html">Conditions</a></li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a></li>
    <li><a href="FCSys_Regions.html">Regions</a></li>
    <li><a href="FCSys_Subregions.html">Subregions</a></li>
    <li><a href="FCSys_Phases.html">Phases</a></li>
    <li><a href="FCSys_Species.html">Species</a></li>
    <li><a href="FCSys_Chemistry.html">Chemistry</a></li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_Utilities.html">Utilities</a></li>
    <li><a href="FCSys_Icons.html">Icons</a></li>
    </ul>

  <h3>Download</h3>
    <ul>
      <li><span itemprop="downloadUrl">Latest: <a href="https://github.com/kdavies4/FCSys/archive/v0.2.4.zip">v0.2.4</a> (2014-01-22)</span></li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">

<h2><a name="FCSys.Utilities.Polynomial"></a><a href="FCSys_Utilities.html#FCSys.Utilities">FCSys.Utilities</a>.Polynomial</h2>

<b>Polynomial functions</b>

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons_Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).

<h3>Package Content</h3>

<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td><img src="images/FCSys.Utilities.arrayBooleanEqualS.png" alt="FCSys.Utilities.Polynomial.F" width=20  height=20 align=top>&nbsp;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.F">F</a>
</td><td>&int;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>()&middot;d<i>x</i> evaluated at <i>x</i> with zero integration constant</td></tr>
<tr><td><img src="images/FCSys.Utilities.arrayBooleanEqualS.png" alt="FCSys.Utilities.Polynomial.dF" width=20  height=20 align=top>&nbsp;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.dF">dF</a>
</td><td>Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.F">F</a>()</td></tr>
<tr><td><img src="images/FCSys.Utilities.arrayBooleanEqualS.png" alt="FCSys.Utilities.Polynomial.f" width=20  height=20 align=top>&nbsp;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>
</td><td>Polynomial expressed in form: <i>f</i> = ((&hellip; + <i>a</i><sub>-1-<i>n</i></sub>)/<i>x</i> + <i>a</i><sub>-<i>n</i></sub>)/<i>x</i> + <i>a</i><sub>1-<i>n</i></sub> + <i>x</i>&middot;(<i>a</i><sub>2-<i>n</i></sub> + <i>x</i>&middot;(<i>a</i><sub>3-<i>n</i></sub> + &hellip;))</td></tr>
<tr><td><img src="images/FCSys.Utilities.arrayBooleanEqualS.png" alt="FCSys.Utilities.Polynomial.df" width=20  height=20 align=top>&nbsp;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.df">df</a>
</td><td>Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>()</td></tr>
<tr><td><img src="images/FCSys.Utilities.arrayBooleanEqualS.png" alt="FCSys.Utilities.Polynomial.d2f" width=20  height=20 align=top>&nbsp;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.d2f">d2f</a>
</td><td>Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.df">df</a>()</td></tr>
</table>
<hr>

<h2><img src="images/FCSys.Utilities.Polynomial.FI.png" alt="FCSys.Utilities.Polynomial.F" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Utilities.Polynomial.F"></a><a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial">FCSys.Utilities.Polynomial</a>.F</h2>
<b>&int;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>()&middot;d<i>x</i> evaluated at <i>x</i> with zero integration constant</b>

<h3>Information</h3>

<p>By definition, the partial derivative of this function with respect to <i>x</i>
  (with <i>a</i> constant)
  is <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>().  The complete derivative,
  however, is <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.dF">dF</a>().</p>
Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).
<p>

<h3>Inputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>x</td><td>&nbsp;</td><td>Argument</td></tr>
<tr><td>Real</td><td>a[:]</td><td>&nbsp;</td><td>Coefficients</td></tr>
<tr><td>Integer</td><td>n</td><td>0</td><td>Power associated with the first term (before integral)</td></tr>
</table>
<p>

<h3>Outputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>F</td><td>Integral</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">function</font> F <font color="darkgreen">
  &quot;&int;<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>()&middot;d<i>x</i> evaluated at <i>x</i> with zero integration constant&quot;</font>
  annotation(derivative=<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.dF">FCSys.Utilities.Polynomial.dF</a>);

  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a>;
  <font color="blue">input </font>Real x <font color="darkgreen">&quot;Argument&quot;</font>;
  <font color="blue">input </font>Real a[:] <font color="darkgreen">&quot;Coefficients&quot;</font>;
  <font color="blue">input </font>Integer n=0 <font color="darkgreen">&quot;Power associated with the first term (before integral)&quot;</font>;
  <font color="blue">output </font>Real F <font color="darkgreen">&quot;Integral&quot;</font>;

<font color="blue">algorithm </font>
  F := <font color="red">f</font>(
    x,
    a .* {<font color="blue">if </font>n + i == 0<font color="blue"> then </font><font color="red">log</font>(x)<font color="blue"> else </font>1/(n + i) <font color="blue">for </font>i<font color="blue"> in </font>1:<font color="red">size</font>(a, 1)},
    n + 1);
<font color="blue">end </font>F;
</pre>
<hr>

<h2><img src="images/FCSys.Utilities.Polynomial.FI.png" alt="FCSys.Utilities.Polynomial.dF" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Utilities.Polynomial.dF"></a><a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial">FCSys.Utilities.Polynomial</a>.dF</h2>
<b>Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.F">F</a>()</b>

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).
<p>

<h3>Inputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>x</td><td>&nbsp;</td><td>Argument</td></tr>
<tr><td>Real</td><td>a[:]</td><td>&nbsp;</td><td>Coefficients</td></tr>
<tr><td>Integer</td><td>n</td><td>0</td><td>Power associated with the first term (before integral)</td></tr>
<tr><td>Real</td><td>dx</td><td>&nbsp;</td><td>Derivative of argument</td></tr>
<tr><td>Real</td><td>da[size(a, 1)]</td><td>zeros(size(a, 1))</td><td>Derivatives of coefficients</td></tr>
</table>
<p>

<h3>Outputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>dF</td><td>Derivative</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">function</font> dF <font color="darkgreen">
  &quot;Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.F">F</a>()&quot;</font>
  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a>;

  <font color="blue">input </font>Real x <font color="darkgreen">&quot;Argument&quot;</font>;
  <font color="blue">input </font>Real a[:] <font color="darkgreen">&quot;Coefficients&quot;</font>;
  <font color="blue">input </font>Integer n=0 <font color="darkgreen">&quot;Power associated with the first term (before integral)&quot;</font>;
  <font color="blue">input </font>Real dx <font color="darkgreen">&quot;Derivative of argument&quot;</font>;
  <font color="blue">input </font>Real da[<font color="red">size</font>(a, 1)]=<font color="red">zeros</font>(<font color="red">size</font>(a, 1)) <font color="darkgreen">&quot;Derivatives of coefficients&quot;</font>;
  <font color="blue">output </font>Real dF <font color="darkgreen">&quot;Derivative&quot;</font>;

<font color="blue">algorithm </font>
  dF := <font color="red">f</font>(
    x,
    a,
    n)*dx + <font color="red">f</font>(
    x,
    da .* {<font color="blue">if </font>n + i == 0<font color="blue"> then </font><font color="red">log</font>(x)<font color="blue"> else </font>1/(n + i) <font color="blue">for </font>i<font color="blue"> in </font>1:<font color="red">size</font>(a, 1)},
    n + 1);
<font color="blue">end </font>dF;
</pre>
<hr>

<h2><img src="images/FCSys.Utilities.Polynomial.FI.png" alt="FCSys.Utilities.Polynomial.f" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Utilities.Polynomial.f"></a><a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial">FCSys.Utilities.Polynomial</a>.f</h2>
<b>Polynomial expressed in form: <i>f</i> = ((&hellip; + <i>a</i><sub>-1-<i>n</i></sub>)/<i>x</i> + <i>a</i><sub>-<i>n</i></sub>)/<i>x</i> + <i>a</i><sub>1-<i>n</i></sub> + <i>x</i>&middot;(<i>a</i><sub>2-<i>n</i></sub> + <i>x</i>&middot;(<i>a</i><sub>3-<i>n</i></sub> + &hellip;))</b>

<h3>Information</h3>

<p>For high-order polynomials, this
  is more computationally efficient than the form
  &Sigma;<i>a</i><sub><i>i</i></sub> <i>x</i><sup><i>n</i> + <i>i</i> - 1</sup>.</p>

  <p>Note that the order of the polynomial is
  <code>n + size(a, 1) - 1</code> (not <code>n</code>).</p>

  <p>The derivative of this function is
  <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.df">df</a>().</p>
Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).
<p>

<h3>Inputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>x</td><td>&nbsp;</td><td>Argument</td></tr>
<tr><td>Real</td><td>a[:]</td><td>&nbsp;</td><td>Coefficients</td></tr>
<tr><td>Integer</td><td>n</td><td>0</td><td>Power of the first term</td></tr>
</table>
<p>

<h3>Outputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>f</td><td>Result</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">function</font> f <font color="darkgreen">
  &quot;Polynomial expressed in form: <i>f</i> = ((&hellip; + <i>a</i><sub>-1-<i>n</i></sub>)/<i>x</i> + <i>a</i><sub>-<i>n</i></sub>)/<i>x</i> + <i>a</i><sub>1-<i>n</i></sub> + <i>x</i>&middot;(<i>a</i><sub>2-<i>n</i></sub> + <i>x</i>&middot;(<i>a</i><sub>3-<i>n</i></sub> + &hellip;))&quot;</font>
  annotation(derivative=<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.df">FCSys.Utilities.Polynomial.df</a>);
  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a>;
  <font color="blue">input </font>Real x <font color="darkgreen">&quot;Argument&quot;</font>;
  <font color="blue">input </font>Real a[:] <font color="darkgreen">&quot;Coefficients&quot;</font>;
  <font color="blue">input </font>Integer n=0 <font color="darkgreen">&quot;Power of the first term&quot;</font>;
  <font color="blue">output </font>Real f <font color="darkgreen">&quot;Result&quot;</font>;

<font color="blue">protected </font>

    &quot;Polynomial expressed in form: y = x*(a + x*(a<sub>2</sub> + &hellip;))&quot;</font>
    <font color="blue">input </font>Real x <font color="darkgreen">&quot;Argument&quot;</font>;
    <font color="blue">input </font>Real a[:] <font color="darkgreen">&quot;Coefficients&quot;</font>;
    <font color="blue">output </font>Real y <font color="darkgreen">&quot;Result&quot;</font>;

  <font color="blue">algorithm </font>
    y := <font color="blue">if </font><font color="red">size</font>(a, 1) &gt; 0<font color="blue"> then </font>x*(a[1] + (<font color="blue">if </font><font color="red">size</font>(a, 1) &gt; 1<font color="blue"> then </font>x*(a[2] + (<font color="blue">
      if </font><font color="red">size</font>(a, 1) &gt; 2<font color="blue"> then </font>x*(a[3] + (<font color="blue">if </font><font color="red">size</font>(a, 1) &gt; 3<font color="blue"> then </font>x*(a[4] + (<font color="blue">if </font><font color="red">
      size</font>(a, 1) &gt; 4<font color="blue"> then </font>x*(a[5] + (<font color="blue">if </font><font color="red">size</font>(a, 1) &gt; 5<font color="blue"> then </font>x*(a[6] + (<font color="blue">if </font><font color="red">size</font>(
      a, 1) &gt; 6<font color="blue"> then </font>x*(a[7] + (<font color="blue">if </font><font color="red">size</font>(a, 1) &gt; 7<font color="blue"> then </font>x*(a[8] + (<font color="blue">if </font><font color="red">size</font>(a, 1) &gt;
      8<font color="blue"> then </font>x*(a[9] + (<font color="blue">if </font><font color="red">size</font>(a, 1) &gt; 9<font color="blue"> then </font>x*(a[10] + (<font color="blue">if </font><font color="red">size</font>(a, 1) &gt; 10<font color="blue">
       then </font><font color="red">positivePoly</font>(x, a[11:<font color="blue">end</font>])<font color="blue"> else </font>0))<font color="blue"> else </font>0))<font color="blue"> else </font>0))<font color="blue"> else </font>0))<font color="blue">
       else </font>0))<font color="blue"> else </font>0))<font color="blue"> else </font>0))<font color="blue"> else </font>0))<font color="blue"> else </font>0))<font color="blue"> else </font>0))<font color="blue"> else </font>0;
    <font color="darkgreen">// Note:  Dymola 7.4 does seem to not inline the recursive calls beyond</font>
    <font color="darkgreen">// depth 1; therefore, the function is &quot;unrolled&quot; up to the 10th order.</font>
    <font color="darkgreen">// Also, in Dymola 7.4, if this function is called from a stack of (nested)</font>
    <font color="darkgreen">// functions, it seems to reduce the depth allowed for the nested</font>
    <font color="darkgreen">// parentheses.  The implementation here (&quot;unrolled&quot; only up to the 10th</font>
    <font color="darkgreen">// order) allows poly() to be called from within one other function within</font>
    <font color="darkgreen">// a model.</font>

  <font color="blue">end </font>positivePoly;

<font color="blue">algorithm </font>
  f := (<font color="blue">if </font>n &lt; 0<font color="blue"> then </font>(<font color="blue">if </font>n + <font color="red">size</font>(a, 1) &lt; 0<font color="blue"> then </font>x^(n + <font color="red">size</font>(a, 1))<font color="blue"> else </font>1)*<font color="red">
    positivePoly</font>(1/x, a[<font color="red">min</font>(<font color="red">size</font>(a, 1), -n):-1:1])<font color="blue"> else </font>0) + (<font color="blue">if </font>n &lt;= 0<font color="blue"> and </font>n &gt;
    -<font color="red">size</font>(a, 1)<font color="blue"> then </font>a[1 - n]<font color="blue"> else </font>0) + (<font color="blue">if </font>n + <font color="red">size</font>(a, 1) &gt; 1<font color="blue"> then </font>(<font color="blue">if </font>n &gt; 1<font color="blue">
     then </font>x^(n - 1)<font color="blue"> else </font>1)*<font color="red">positivePoly</font>(x, a[1 + <font color="red">max</font>(0, 1 - n):<font color="red">size</font>(a, 1)])<font color="blue">
     else </font>0);
  <font color="darkgreen">// Here, Dymola 2014 won&#39;t allow indexing via a[1 + max(0, 1 - n):end], so</font>
  <font color="darkgreen">// a[1 + max(0, 1 - n):size(a, 1)] is necessary.</font>
<font color="blue">end </font>f;
</pre>
<hr>

<h2><img src="images/FCSys.Utilities.Polynomial.FI.png" alt="FCSys.Utilities.Polynomial.df" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Utilities.Polynomial.df"></a><a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial">FCSys.Utilities.Polynomial</a>.df</h2>
<b>Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>()</b>

<h3>Information</h3>

<p>The derivative of this function is
  <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.d2f">d2f</a>().</p>
Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).
<p>

<h3>Inputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>x</td><td>&nbsp;</td><td>Argument</td></tr>
<tr><td>Real</td><td>a[:]</td><td>&nbsp;</td><td>Coefficients</td></tr>
<tr><td>Integer</td><td>n</td><td>0</td><td>Power associated with the first term (before derivative)</td></tr>
<tr><td>Real</td><td>dx</td><td>&nbsp;</td><td>Derivative of argument</td></tr>
<tr><td>Real</td><td>da[size(a, 1)]</td><td>zeros(size(a, 1))</td><td>Derivatives of coefficients</td></tr>
</table>
<p>

<h3>Outputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>df</td><td>Derivative</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">function</font> df <font color="darkgreen">
  &quot;Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.f">f</a>()&quot;</font>
  annotation(derivative=<a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.d2f">FCSys.Utilities.Polynomial.d2f</a>);
  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a>;
  <font color="blue">input </font>Real x <font color="darkgreen">&quot;Argument&quot;</font>;
  <font color="blue">input </font>Real a[:] <font color="darkgreen">&quot;Coefficients&quot;</font>;
  <font color="blue">input </font>Integer n=0 <font color="darkgreen">&quot;Power associated with the first term (before derivative)&quot;</font>;
  <font color="blue">input </font>Real dx <font color="darkgreen">&quot;Derivative of argument&quot;</font>;
  <font color="blue">input </font>Real da[<font color="red">size</font>(a, 1)]=<font color="red">zeros</font>(<font color="red">size</font>(a, 1)) <font color="darkgreen">&quot;Derivatives of coefficients&quot;</font>;
  <font color="blue">output </font>Real df <font color="darkgreen">&quot;Derivative&quot;</font>;

<font color="blue">algorithm </font>
  df := <font color="red">f</font>(
    x,
    a={(n + i - 1)*a[i] <font color="blue">for </font>i<font color="blue"> in </font>1:<font color="red">size</font>(a, 1)},
    n=n - 1)*dx + <font color="red">f</font>(
    x,
    da,
    n);
<font color="blue">end </font>df;
</pre>
<hr>

<h2><img src="images/FCSys.Utilities.Polynomial.FI.png" alt="FCSys.Utilities.Polynomial.d2f" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Utilities.Polynomial.d2f"></a><a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial">FCSys.Utilities.Polynomial</a>.d2f</h2>
<b>Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.df">df</a>()</b>

<h3>Information</h3>

Extends from <a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a> (Icon for functions).
<p>

<h3>Inputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>x</td><td>&nbsp;</td><td>Argument</td></tr>
<tr><td>Real</td><td>a[:]</td><td>&nbsp;</td><td>Coefficients</td></tr>
<tr><td>Integer</td><td>n</td><td>0</td><td>Power associated with the first term (before derivative)</td></tr>
<tr><td>Real</td><td>dx</td><td>&nbsp;</td><td>Derivative of argument</td></tr>
<tr><td>Real</td><td>da[size(a, 1)]</td><td>zeros(size(a, 1))</td><td>Derivatives of coefficients</td></tr>
<tr><td>Real</td><td>d2x</td><td>&nbsp;</td><td>Second derivative of argument</td></tr>
<tr><td>Real</td><td>d2a[size(a, 1)]</td><td>zeros(size(a, 1))</td><td>Second derivatives of coefficients</td></tr>
</table>
<p>

<h3>Outputs</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>d2f</td><td>Second derivative</td></tr>
</table>

<h3>Modelica definition</h3>

<pre>
<font color="blue">function</font> d2f <font color="darkgreen">
  &quot;Derivative of <a href="FCSys_Utilities_Polynomial.html#FCSys.Utilities.Polynomial.df">df</a>()&quot;</font>
  <font color="blue">extends </font><a href="file:///C:/Program Files (x86)/Dymola 2014/Modelica/Library/Modelica 3.2.1/help/Modelica_Icons.html#Modelica.Icons.Function">Modelica.Icons.Function</a>;
  <font color="blue">input </font>Real x <font color="darkgreen">&quot;Argument&quot;</font>;
  <font color="blue">input </font>Real a[:] <font color="darkgreen">&quot;Coefficients&quot;</font>;
  <font color="blue">input </font>Integer n=0 <font color="darkgreen">&quot;Power associated with the first term (before derivative)&quot;</font>;
  <font color="blue">input </font>Real dx <font color="darkgreen">&quot;Derivative of argument&quot;</font>;
  <font color="blue">input </font>Real da[<font color="red">size</font>(a, 1)]=<font color="red">zeros</font>(<font color="red">size</font>(a, 1)) <font color="darkgreen">&quot;Derivatives of coefficients&quot;</font>;
  <font color="blue">input </font>Real d2x <font color="darkgreen">&quot;Second derivative of argument&quot;</font>;
  <font color="blue">input </font>Real d2a[<font color="red">size</font>(a, 1)]=<font color="red">zeros</font>(<font color="red">size</font>(a, 1)) <font color="darkgreen">
    &quot;Second derivatives of coefficients&quot;</font>;
  <font color="blue">output </font>Real d2f <font color="darkgreen">&quot;Second derivative&quot;</font>;

<font color="blue">algorithm </font>
  d2f := <font color="red">sum</font>(<font color="red">f</font>(
    x,
    {a[i]*(n + i - 1)*(n + i - 2)*dx^2,(n + i - 1)*(2*da[i]*dx + a[i]*d2x),d2a[
      i]},
    n + i - 3) <font color="blue">for </font>i<font color="blue"> in </font>1:<font color="red">size</font>(a, 1));
<font color="blue">end </font>d2f;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2007&ndash;2014, Kevin Davies, Hawaii Natural Energy Institute. Last updated Wed Jan 22 14:51:25 2014.
</div>
</span></body></html>
